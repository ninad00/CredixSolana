import{j as c,q as i}from"./index-nTJrk6Cr.js";const m=new Map([["4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",{address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU",name:"USD Coin",symbol:"USDC",logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v/logo.png",decimals:6}],["Hzxi1XGcy8mK3C2tfrn2izX2i3nB4T1G5M54S2S2FpS2",{address:"Hzxi1XGcy8mK3C2tfrn2izX2i3nB4T1G5M54S2S2FpS2",name:"Euro Coin",symbol:"EURC",logoURI:"https://raw.githubusercontent.com/solana-labs/token-list/main/assets/mainnet/Hzxi1XGcy8mK3C2tfrn2izX2i3nB4T1G5M54S2S2FpS2/logo.png",decimals:6}]]),d="https://token.jup.ag/strict";let n=new Map(m),f=!1;const p=async o=>{if(n.has(o))return n.get(o);if(!f)try{console.log("Fetching strict token list from Jupiter...");const e=await fetch(d);if(!e.ok)throw new Error(`Failed to fetch token list: ${e.statusText}`);const a=await e.json();f=!0,a.forEach(t=>{n.has(t.address)||n.set(t.address,t)})}catch(e){console.error("Error fetching remote token list:",e)}return n.has(o)?n.get(o):(console.log(`No metadata found for mint address: ${o}`),{name:"Unknown Token",symbol:o.slice(0,4)+"..",address:o,decimals:6,logoURI:void 0})},b=(o,e)=>{const a=document.createElement("canvas");a.width=e,a.height=e;const t=a.getContext("2d");if(t){const s=["#06b6d4","#3b82f6","#8b5cf6","#10b981","#f59e0b","#ef4444","#ec4899"],r=(o.charCodeAt(0)||0)%s.length;t.fillStyle=s[r],t.beginPath(),t.arc(e/2,e/2,e/2,0,2*Math.PI),t.fill(),t.fillStyle="#FFFFFF";const l=Math.max(10,e/2);t.font=`bold ${l}px -apple-system, BlinkMacSystemFont, sans-serif`,t.textAlign="center",t.textBaseline="middle",t.fillText(o.charAt(0).toUpperCase(),e/2,e/2+1)}return a.toDataURL()},E=({mintAddress:o,size:e=24,className:a=""})=>{const[t,s]=c.useState(null),[r,l]=c.useState(!1);c.useEffect(()=>{if(s(null),l(!1),!o)return;(async()=>{const u=await p(o);s(u)})()},[o]);const g=c.useMemo(()=>t?b(t.symbol,e):"",[t,e]);if(!t)return i.jsx("div",{className:`bg-gray-200 dark:bg-gray-700 rounded-full animate-pulse ${a}`,style:{width:e,height:e}});const h=!t.logoURI||r;return i.jsx("img",{src:h?g:t.logoURI,alt:t.symbol,className:`rounded-full object-cover ${a}`,style:{width:e,height:e},onError:()=>{r||l(!0)}})};export{E as T,p as f};
