import{B as g,H as A,S as b,P as p}from"./index-pi6Ztd27.js";import{T as f,A as m}from"./mint--i00LiPk.js";import{g as l,I as k}from"./source-Ck9LQvm6.js";function P(a,t,r,e,s=f,n=m){return B(a,t,r,e,g.alloc(0),s,n)}function B(a,t,r,e,s,n=f,c=m){const i=[{pubkey:a,isSigner:!0,isWritable:!0},{pubkey:t,isSigner:!1,isWritable:!0},{pubkey:r,isSigner:!1,isWritable:!1},{pubkey:e,isSigner:!1,isWritable:!1},{pubkey:b.programId,isSigner:!1,isWritable:!1},{pubkey:n,isSigner:!1,isWritable:!1}];return new A({keys:i,programId:c,data:s})}const u=k;console.log("Valid program ID:",u.toBase58());async function v(a){const t=l(a);if(!t)return[];const r=t.account.config.size;console.log(r);const e=t.provider.connection;if(!e)return console.error("No connection available in the program provider."),[];const s=await e.getProgramAccounts(u,{filters:[{dataSize:r}]}),n=[];for(const{pubkey:c,account:i}of s)try{const o=t.coder.accounts.decode("config",i.data);console.log("Decoded config:",o),n.push({publicKey:c.toBase58(),tokenMint:o.tokenMint.toBase58(),totalLiq:o.totalLiq.toString(),totalCollected:o.totalCollected.toString(),vault:o.vault.toBase58(),authority:o.authority.toBase58(),bump:o.bump})}catch(o){console.warn("Skipping invalid Config account:",c.toBase58()),console.error("Error decoding account:",o)}return n}async function w(a){const t=l(a);if(!t)return[];const r=t.account.userData.size,e=t.provider.connection;if(!e)return console.error("No connection available in the program provider."),[];const s=await e.getProgramAccounts(u,{filters:[{dataSize:r}]}),n=[];for(const{pubkey:c,account:i}of s){console.log("data account:",i.data),console.log("Processing account:",c.toBase58()),console.log(t.idl.accounts.map(o=>o.name));try{const o=t.coder.accounts.decode("userData",i.data);console.log("Decoded user:",o),n.push({publicKey:c.toBase58(),user:o.user.toBase58(),borrowedAmount:o.borrowedAmount.toString(),primaryToken:o.primaryToken.toBase58(),hf:o.hf.toString(),tokenBalance:o.tokenBalance.toString(),bump:o.bump})}catch(o){console.warn("Skipping invalid user account:",c.toBase58()),console.error("Error decoding account:",o)}}return n}async function D(a){const t=l(a);if(!t)return[];const r=t.account.lpData.size,e=t.provider.connection;if(!e)return console.error("No connection available in the program provider."),[];const s=await e.getProgramAccounts(u,{filters:[{dataSize:r}]}),n=[];for(const{pubkey:c,account:i}of s){console.log("data account:",i.data),console.log("Processing account:",c.toBase58()),console.log(t.idl.accounts.map(o=>o.name));try{const o=t.coder.accounts.decode("lpData",i.data);console.log("Decoded user:",o),n.push({publicKey:c.toBase58(),user:o.user.toBase58(),tokenAmt:o.tokenAmt.toString(),token:o.token.toBase58(),bump:o.bump})}catch(o){console.warn("Skipping invalid user account:",c.toBase58()),console.error("Error decoding account:",o)}}return n}async function z(a){const t=l(a);if(!t)return[];const r=t.provider.connection,e=t.account.deposit.size;console.log(e);const s=await r.getProgramAccounts(u,{filters:[{dataSize:e}]});console.log(s);const n=[];for(const{pubkey:c,account:i}of s)try{const o=t.coder.accounts.decode("deposit",i.data),[d]=p.findProgramAddressSync([g.from("config"),o.tokenMint.toBuffer()],t.programId);console.log({actual:o.configAccount.toBase58(),expected:d.toBase58()}),n.push({publicKey:c.toBase58(),user:o.user.toBase58(),tokenMint:o.tokenMint.toBase58(),tokenAmt:o.tokenAmt.toString(),configAccount:o.configAccount.toBase58(),bump:o.bump})}catch(o){console.warn("Skipping invalid deposit account:",c.toBase58()),console.error(o)}return n}async function I(a){const t=l(a);if(!t)return[];const r=t.provider.connection,e=t.account.lqDeposit.size;console.log(e);const s=await r.getProgramAccounts(u,{filters:[{dataSize:e}]});console.log(s);const n=[];for(const{pubkey:c,account:i}of s)try{const o=t.coder.accounts.decode("lqDeposit",i.data),[d]=p.findProgramAddressSync([g.from("config"),o.tokenMint.toBuffer()],t.programId);console.log({actual:o.configAccount.toBase58(),expected:d.toBase58()}),n.push({publicKey:c.toBase58(),user:o.user.toBase58(),tokenMint:o.tokenMint.toBase58(),tokenAmt:o.tokenAmt.toString(),configAccount:o.configAccount.toBase58(),bump:o.bump})}catch(o){console.warn("Skipping invalid deposit account:",c.toBase58()),console.error(o)}return n}export{z as a,w as b,P as c,I as d,D as e,v as f};
