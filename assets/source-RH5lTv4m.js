import{q as De,x as Me,I as Ue,O as Tn,B as z,Q as xi,R as Li,C as Et,U as vt,P as W,V as ee,S as Di,J as Mi,A as Ui,z as Re,M as Hi}from"./index-nTJrk6Cr.js";const xt=globalThis||void 0||self,Pi={hidden:{opacity:0,y:20,scale:.95},visible:{opacity:1,y:0,scale:1,transition:{duration:.4,ease:[.4,0,.2,1],staggerChildren:.1}},hover:{y:-4,scale:1.02,transition:{duration:.2,ease:"easeOut"}},tap:{scale:.98,transition:{duration:.1}}},Je={hidden:{opacity:0,y:10},visible:{opacity:1,y:0,transition:{duration:.3,ease:[.4,0,.2,1]}}};function Ca({className:r,...t}){return De.jsx(Me.div,{"data-slot":"card",className:Ue("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm cursor-pointer",r),variants:Pi,initial:"hidden",animate:"visible",whileHover:"hover",whileTap:"tap",...t})}function ba({className:r,...t}){return De.jsx(Me.div,{"data-slot":"card-header",className:Ue("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),variants:Je,...t})}function Sa({className:r,...t}){return De.jsx(Me.div,{"data-slot":"card-title",className:Ue("leading-none font-semibold",r),variants:Je,whileHover:{scale:1.02,transition:{duration:.2}},...t})}function ka({className:r,...t}){return De.jsx(Me.div,{"data-slot":"card-description",className:Ue("text-muted-foreground text-sm",r),variants:Je,...t})}function xa({className:r,...t}){return De.jsx(Me.div,{"data-slot":"card-content",className:Ue("px-6",r),variants:Je,...t})}var Ve={exports:{}},Lt;function Bi(){if(Lt)return Ve.exports;Lt=1;const r=/[\p{Lu}]/u,t=/[\p{Ll}]/u,e=/^[\p{Lu}](?![\p{Lu}])/gu,n=/([\p{Alpha}\p{N}_]|$)/u,i=/[_.\- ]+/,o=new RegExp("^"+i.source),u=new RegExp(i.source+n.source,"gu"),c=new RegExp("\\d+"+n.source,"gu"),f=(E,p,O)=>{let b=!1,w=!1,T=!1;for(let D=0;D<E.length;D++){const v=E[D];b&&r.test(v)?(E=E.slice(0,D)+"-"+E.slice(D),b=!1,T=w,w=!0,D++):w&&T&&t.test(v)?(E=E.slice(0,D-1)+"-"+E.slice(D-1),T=w,w=!1,b=!0):(b=p(v)===v&&O(v)!==v,T=w,w=O(v)===v&&p(v)!==v)}return E},d=(E,p)=>(e.lastIndex=0,E.replace(e,O=>p(O))),l=(E,p)=>(u.lastIndex=0,c.lastIndex=0,E.replace(u,(O,b)=>p(b)).replace(c,O=>p(O))),A=(E,p)=>{if(!(typeof E=="string"||Array.isArray(E)))throw new TypeError("Expected the input to be `string | string[]`");if(p={pascalCase:!1,preserveConsecutiveUppercase:!1,...p},Array.isArray(E)?E=E.map(T=>T.trim()).filter(T=>T.length).join("-"):E=E.trim(),E.length===0)return"";const O=p.locale===!1?T=>T.toLowerCase():T=>T.toLocaleLowerCase(p.locale),b=p.locale===!1?T=>T.toUpperCase():T=>T.toLocaleUpperCase(p.locale);return E.length===1?p.pascalCase?b(E):O(E):(E!==O(E)&&(E=f(E,O,b)),E=E.replace(o,""),p.preserveConsecutiveUppercase?E=d(E,O):E=O(E),p.pascalCase&&(E=b(E.charAt(0))+E.slice(1)),l(E,b))};return Ve.exports=A,Ve.exports.default=A,Ve.exports}var Gi=Bi();const Vi=Tn(Gi);var Ie={},S={},Dt;function Mt(){if(Dt)return S;Dt=1;class r{constructor(s,a){if(!Number.isInteger(s))throw new TypeError("span must be an integer");this.span=s,this.property=a}makeDestinationObject(){return{}}decode(s,a){throw new Error("Layout is abstract")}encode(s,a,h){throw new Error("Layout is abstract")}getSpan(s,a){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(s){const a=Object.create(this.constructor.prototype);return Object.assign(a,this),a.property=s,a}fromArray(s){}}S.Layout=r;function t(R,s){return s.property?R+"["+s.property+"]":R}S.nameWithProperty=t;function e(R,s){if(typeof R!="function")throw new TypeError("Class must be constructor");if(R.hasOwnProperty("layout_"))throw new Error("Class is already bound to a layout");if(!(s&&s instanceof r))throw new TypeError("layout must be a Layout");if(s.hasOwnProperty("boundConstructor_"))throw new Error("layout is already bound to a constructor");R.layout_=s,s.boundConstructor_=R,s.makeDestinationObject=()=>new R,Object.defineProperty(R.prototype,"encode",{value:function(a,h){return s.encode(this,a,h)},writable:!0}),Object.defineProperty(R,"decode",{value:function(a,h){return s.decode(a,h)},writable:!0})}S.bindConstructorLayout=e;class n extends r{isCount(){throw new Error("ExternalLayout is abstract")}}class i extends n{constructor(s,a){if(s===void 0&&(s=1),!Number.isInteger(s)||0>=s)throw new TypeError("elementSpan must be a (positive) integer");super(-1,a),this.elementSpan=s}isCount(){return!0}decode(s,a){a===void 0&&(a=0);const h=s.length-a;return Math.floor(h/this.elementSpan)}encode(s,a,h){return 0}}class o extends n{constructor(s,a,h){if(!(s instanceof r))throw new TypeError("layout must be a Layout");if(a===void 0)a=0;else if(!Number.isInteger(a))throw new TypeError("offset must be integer or undefined");super(s.span,h||s.property),this.layout=s,this.offset=a}isCount(){return this.layout instanceof u||this.layout instanceof c}decode(s,a){return a===void 0&&(a=0),this.layout.decode(s,a+this.offset)}encode(s,a,h){return h===void 0&&(h=0),this.layout.encode(s,a,h+this.offset)}}class u extends r{constructor(s,a){if(super(s,a),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,a){return a===void 0&&(a=0),s.readUIntLE(a,this.span)}encode(s,a,h){return h===void 0&&(h=0),a.writeUIntLE(s,h,this.span),this.span}}class c extends r{constructor(s,a){if(super(s,a),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,a){return a===void 0&&(a=0),s.readUIntBE(a,this.span)}encode(s,a,h){return h===void 0&&(h=0),a.writeUIntBE(s,h,this.span),this.span}}class f extends r{constructor(s,a){if(super(s,a),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,a){return a===void 0&&(a=0),s.readIntLE(a,this.span)}encode(s,a,h){return h===void 0&&(h=0),a.writeIntLE(s,h,this.span),this.span}}class d extends r{constructor(s,a){if(super(s,a),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(s,a){return a===void 0&&(a=0),s.readIntBE(a,this.span)}encode(s,a,h){return h===void 0&&(h=0),a.writeIntBE(s,h,this.span),this.span}}const l=Math.pow(2,32);function A(R){const s=Math.floor(R/l),a=R-s*l;return{hi32:s,lo32:a}}function E(R,s){return R*l+s}class p extends r{constructor(s){super(8,s)}decode(s,a){a===void 0&&(a=0);const h=s.readUInt32LE(a),N=s.readUInt32LE(a+4);return E(N,h)}encode(s,a,h){h===void 0&&(h=0);const N=A(s);return a.writeUInt32LE(N.lo32,h),a.writeUInt32LE(N.hi32,h+4),8}}class O extends r{constructor(s){super(8,s)}decode(s,a){a===void 0&&(a=0);const h=s.readUInt32BE(a),N=s.readUInt32BE(a+4);return E(h,N)}encode(s,a,h){h===void 0&&(h=0);const N=A(s);return a.writeUInt32BE(N.hi32,h),a.writeUInt32BE(N.lo32,h+4),8}}class b extends r{constructor(s){super(8,s)}decode(s,a){a===void 0&&(a=0);const h=s.readUInt32LE(a),N=s.readInt32LE(a+4);return E(N,h)}encode(s,a,h){h===void 0&&(h=0);const N=A(s);return a.writeUInt32LE(N.lo32,h),a.writeInt32LE(N.hi32,h+4),8}}class w extends r{constructor(s){super(8,s)}decode(s,a){a===void 0&&(a=0);const h=s.readInt32BE(a),N=s.readUInt32BE(a+4);return E(h,N)}encode(s,a,h){h===void 0&&(h=0);const N=A(s);return a.writeInt32BE(N.hi32,h),a.writeUInt32BE(N.lo32,h+4),8}}class T extends r{constructor(s){super(4,s)}decode(s,a){return a===void 0&&(a=0),s.readFloatLE(a)}encode(s,a,h){return h===void 0&&(h=0),a.writeFloatLE(s,h),4}}class D extends r{constructor(s){super(4,s)}decode(s,a){return a===void 0&&(a=0),s.readFloatBE(a)}encode(s,a,h){return h===void 0&&(h=0),a.writeFloatBE(s,h),4}}class v extends r{constructor(s){super(8,s)}decode(s,a){return a===void 0&&(a=0),s.readDoubleLE(a)}encode(s,a,h){return h===void 0&&(h=0),a.writeDoubleLE(s,h),8}}class g extends r{constructor(s){super(8,s)}decode(s,a){return a===void 0&&(a=0),s.readDoubleBE(a)}encode(s,a,h){return h===void 0&&(h=0),a.writeDoubleBE(s,h),8}}class H extends r{constructor(s,a,h){if(!(s instanceof r))throw new TypeError("elementLayout must be a Layout");if(!(a instanceof n&&a.isCount()||Number.isInteger(a)&&0<=a))throw new TypeError("count must be non-negative integer or an unsigned integer ExternalLayout");let N=-1;!(a instanceof n)&&0<s.span&&(N=a*s.span),super(N,h),this.elementLayout=s,this.count=a}getSpan(s,a){if(0<=this.span)return this.span;a===void 0&&(a=0);let h=0,N=this.count;if(N instanceof n&&(N=N.decode(s,a)),0<this.elementLayout.span)h=N*this.elementLayout.span;else{let k=0;for(;k<N;)h+=this.elementLayout.getSpan(s,a+h),++k}return h}decode(s,a){a===void 0&&(a=0);const h=[];let N=0,k=this.count;for(k instanceof n&&(k=k.decode(s,a));N<k;)h.push(this.elementLayout.decode(s,a)),a+=this.elementLayout.getSpan(s,a),N+=1;return h}encode(s,a,h){h===void 0&&(h=0);const N=this.elementLayout,k=s.reduce(($,Z)=>$+N.encode(Z,a,h+$),0);return this.count instanceof n&&this.count.encode(s.length,a,h),k}}class j extends r{constructor(s,a,h){if(!(Array.isArray(s)&&s.reduce((k,$)=>k&&$ instanceof r,!0)))throw new TypeError("fields must be array of Layout instances");typeof a=="boolean"&&h===void 0&&(h=a,a=void 0);for(const k of s)if(0>k.span&&k.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let N=-1;try{N=s.reduce((k,$)=>k+$.getSpan(),0)}catch{}super(N,a),this.fields=s,this.decodePrefixes=!!h}getSpan(s,a){if(0<=this.span)return this.span;a===void 0&&(a=0);let h=0;try{h=this.fields.reduce((N,k)=>{const $=k.getSpan(s,a);return a+=$,N+$},0)}catch{throw new RangeError("indeterminate span")}return h}decode(s,a){a===void 0&&(a=0);const h=this.makeDestinationObject();for(const N of this.fields)if(N.property!==void 0&&(h[N.property]=N.decode(s,a)),a+=N.getSpan(s,a),this.decodePrefixes&&s.length===a)break;return h}encode(s,a,h){h===void 0&&(h=0);const N=h;let k=0,$=0;for(const Z of this.fields){let ve=Z.span;if($=0<ve?ve:0,Z.property!==void 0){const kt=s[Z.property];kt!==void 0&&($=Z.encode(kt,a,h),0>ve&&(ve=Z.getSpan(a,h)))}k=h,h+=ve}return k+$-N}fromArray(s){const a=this.makeDestinationObject();for(const h of this.fields)h.property!==void 0&&0<s.length&&(a[h.property]=s.shift());return a}layoutFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const a of this.fields)if(a.property===s)return a}offsetOf(s){if(typeof s!="string")throw new TypeError("property must be string");let a=0;for(const h of this.fields){if(h.property===s)return a;0>h.span?a=-1:0<=a&&(a+=h.span)}}}class M{constructor(s){this.property=s}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class B extends M{constructor(s,a){if(!(s instanceof n&&s.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(a||s.property||"variant"),this.layout=s}decode(s,a){return this.layout.decode(s,a)}encode(s,a,h){return this.layout.encode(s,a,h)}}class G extends r{constructor(s,a,h){const N=s instanceof u||s instanceof c;if(N)s=new B(new o(s));else if(s instanceof n&&s.isCount())s=new B(s);else if(!(s instanceof M))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(a===void 0&&(a=null),!(a===null||a instanceof r))throw new TypeError("defaultLayout must be null or a Layout");if(a!==null){if(0>a.span)throw new Error("defaultLayout must have constant span");a.property===void 0&&(a=a.replicate("content"))}let k=-1;a&&(k=a.span,0<=k&&N&&(k+=s.layout.span)),super(k,h),this.discriminator=s,this.usesPrefixDiscriminator=N,this.defaultLayout=a,this.registry={};let $=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(Z){return $(Z)},this.configGetSourceVariant=function(Z){$=Z.bind(this)}}getSpan(s,a){if(0<=this.span)return this.span;a===void 0&&(a=0);const h=this.getVariant(s,a);if(!h)throw new Error("unable to determine span for unrecognized variant");return h.getSpan(s,a)}defaultGetSourceVariant(s){if(s.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&s.hasOwnProperty(this.defaultLayout.property))return;const a=this.registry[s[this.discriminator.property]];if(a&&(!a.layout||s.hasOwnProperty(a.property)))return a}else for(const a in this.registry){const h=this.registry[a];if(s.hasOwnProperty(h.property))return h}throw new Error("unable to infer src variant")}decode(s,a){a===void 0&&(a=0);let h;const N=this.discriminator,k=N.decode(s,a);let $=this.registry[k];if($===void 0){let Z=0;$=this.defaultLayout,this.usesPrefixDiscriminator&&(Z=N.layout.span),h=this.makeDestinationObject(),h[N.property]=k,h[$.property]=this.defaultLayout.decode(s,a+Z)}else h=$.decode(s,a);return h}encode(s,a,h){h===void 0&&(h=0);const N=this.getSourceVariant(s);if(N===void 0){const k=this.discriminator,$=this.defaultLayout;let Z=0;return this.usesPrefixDiscriminator&&(Z=k.layout.span),k.encode(s[k.property],a,h),Z+$.encode(s[$.property],a,h+Z)}return N.encode(s,a,h)}addVariant(s,a,h){const N=new P(this,s,a,h);return this.registry[s]=N,N}getVariant(s,a){let h=s;return z.isBuffer(s)&&(a===void 0&&(a=0),h=this.discriminator.decode(s,a)),this.registry[h]}}class P extends r{constructor(s,a,h,N){if(!(s instanceof G))throw new TypeError("union must be a Union");if(!Number.isInteger(a)||0>a)throw new TypeError("variant must be a (non-negative) integer");if(typeof h=="string"&&N===void 0&&(N=h,h=null),h){if(!(h instanceof r))throw new TypeError("layout must be a Layout");if(s.defaultLayout!==null&&0<=h.span&&h.span>s.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof N!="string")throw new TypeError("variant must have a String property")}let k=s.span;0>s.span&&(k=h?h.span:0,0<=k&&s.usesPrefixDiscriminator&&(k+=s.discriminator.layout.span)),super(k,N),this.union=s,this.variant=a,this.layout=h||null}getSpan(s,a){if(0<=this.span)return this.span;a===void 0&&(a=0);let h=0;return this.union.usesPrefixDiscriminator&&(h=this.union.discriminator.layout.span),h+this.layout.getSpan(s,a+h)}decode(s,a){const h=this.makeDestinationObject();if(a===void 0&&(a=0),this!==this.union.getVariant(s,a))throw new Error("variant mismatch");let N=0;return this.union.usesPrefixDiscriminator&&(N=this.union.discriminator.layout.span),this.layout?h[this.property]=this.layout.decode(s,a+N):this.property?h[this.property]=!0:this.union.usesPrefixDiscriminator&&(h[this.union.discriminator.property]=this.variant),h}encode(s,a,h){h===void 0&&(h=0);let N=0;if(this.union.usesPrefixDiscriminator&&(N=this.union.discriminator.layout.span),this.layout&&!s.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,a,h);let k=N;if(this.layout&&(this.layout.encode(s[this.property],a,h+N),k+=this.layout.getSpan(a,h+N),0<=this.union.span&&k>this.union.span))throw new Error("encoded variant overruns containing union");return k}fromArray(s){if(this.layout)return this.layout.fromArray(s)}}function U(R){return 0>R&&(R+=4294967296),R}class L extends r{constructor(s,a,h){if(!(s instanceof u||s instanceof c))throw new TypeError("word must be a UInt or UIntBE layout");if(typeof a=="string"&&h===void 0&&(h=a,a=void 0),4<s.span)throw new RangeError("word cannot exceed 32 bits");super(s.span,h),this.word=s,this.msb=!!a,this.fields=[];let N=0;this._packedSetValue=function(k){return N=U(k),this},this._packedGetValue=function(){return N}}decode(s,a){const h=this.makeDestinationObject();a===void 0&&(a=0);const N=this.word.decode(s,a);this._packedSetValue(N);for(const k of this.fields)k.property!==void 0&&(h[k.property]=k.decode(N));return h}encode(s,a,h){h===void 0&&(h=0);const N=this.word.decode(a,h);this._packedSetValue(N);for(const k of this.fields)if(k.property!==void 0){const $=s[k.property];$!==void 0&&k.encode($)}return this.word.encode(this._packedGetValue(),a,h)}addField(s,a){const h=new I(this,s,a);return this.fields.push(h),h}addBoolean(s){const a=new _(this,s);return this.fields.push(a),a}fieldFor(s){if(typeof s!="string")throw new TypeError("property must be string");for(const a of this.fields)if(a.property===s)return a}}class I{constructor(s,a,h){if(!(s instanceof L))throw new TypeError("container must be a BitStructure");if(!Number.isInteger(a)||0>=a)throw new TypeError("bits must be positive integer");const N=8*s.span,k=s.fields.reduce(($,Z)=>$+Z.bits,0);if(a+k>N)throw new Error("bits too long for span remainder ("+(N-k)+" of "+N+" remain)");this.container=s,this.bits=a,this.valueMask=(1<<a)-1,a===32&&(this.valueMask=4294967295),this.start=k,this.container.msb&&(this.start=N-k-a),this.wordMask=U(this.valueMask<<this.start),this.property=h}decode(){const s=this.container._packedGetValue();return U(s&this.wordMask)>>>this.start}encode(s){if(!Number.isInteger(s)||s!==U(s&this.valueMask))throw new TypeError(t("BitField.encode",this)+" value must be integer not exceeding "+this.valueMask);const a=this.container._packedGetValue(),h=U(s<<this.start);this.container._packedSetValue(U(a&~this.wordMask)|h)}}class _ extends I{constructor(s,a){super(s,1,a)}decode(s,a){return!!I.prototype.decode.call(this,s,a)}encode(s){return typeof s=="boolean"&&(s=+s),I.prototype.encode.call(this,s)}}class y extends r{constructor(s,a){if(!(s instanceof n&&s.isCount()||Number.isInteger(s)&&0<=s))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let h=-1;s instanceof n||(h=s),super(h,a),this.length=s}getSpan(s,a){let h=this.span;return 0>h&&(h=this.length.decode(s,a)),h}decode(s,a){a===void 0&&(a=0);let h=this.span;return 0>h&&(h=this.length.decode(s,a)),s.slice(a,a+h)}encode(s,a,h){let N=this.length;if(this.length instanceof n&&(N=s.length),!(z.isBuffer(s)&&N===s.length))throw new TypeError(t("Blob.encode",this)+" requires (length "+N+") Buffer as src");if(h+N>a.length)throw new RangeError("encoding overruns Buffer");return a.write(s.toString("hex"),h,N,"hex"),this.length instanceof n&&this.length.encode(N,a,h),N}}class x extends r{constructor(s){super(-1,s)}getSpan(s,a){if(!z.isBuffer(s))throw new TypeError("b must be a Buffer");a===void 0&&(a=0);let h=a;for(;h<s.length&&s[h]!==0;)h+=1;return 1+h-a}decode(s,a,h){a===void 0&&(a=0);let N=this.getSpan(s,a);return s.slice(a,a+N-1).toString("utf-8")}encode(s,a,h){h===void 0&&(h=0),typeof s!="string"&&(s=s.toString());const N=new z(s,"utf8"),k=N.length;if(h+k>a.length)throw new RangeError("encoding overruns Buffer");return N.copy(a,h),a[h+k]=0,k+1}}class F extends r{constructor(s,a){if(typeof s=="string"&&a===void 0&&(a=s,s=void 0),s===void 0)s=-1;else if(!Number.isInteger(s))throw new TypeError("maxSpan must be an integer");super(-1,a),this.maxSpan=s}getSpan(s,a){if(!z.isBuffer(s))throw new TypeError("b must be a Buffer");return a===void 0&&(a=0),s.length-a}decode(s,a,h){a===void 0&&(a=0);let N=this.getSpan(s,a);if(0<=this.maxSpan&&this.maxSpan<N)throw new RangeError("text length exceeds maxSpan");return s.slice(a,a+N).toString("utf-8")}encode(s,a,h){h===void 0&&(h=0),typeof s!="string"&&(s=s.toString());const N=new z(s,"utf8"),k=N.length;if(0<=this.maxSpan&&this.maxSpan<k)throw new RangeError("text length exceeds maxSpan");if(h+k>a.length)throw new RangeError("encoding overruns Buffer");return N.copy(a,h),k}}class X extends r{constructor(s,a){super(0,a),this.value=s}decode(s,a,h){return this.value}encode(s,a,h){return 0}}return S.ExternalLayout=n,S.GreedyCount=i,S.OffsetLayout=o,S.UInt=u,S.UIntBE=c,S.Int=f,S.IntBE=d,S.Float=T,S.FloatBE=D,S.Double=v,S.DoubleBE=g,S.Sequence=H,S.Structure=j,S.UnionDiscriminator=M,S.UnionLayoutDiscriminator=B,S.Union=G,S.VariantLayout=P,S.BitStructure=L,S.BitField=I,S.Boolean=_,S.Blob=y,S.CString=x,S.UTF8=F,S.Constant=X,S.greedy=(R,s)=>new i(R,s),S.offset=(R,s,a)=>new o(R,s,a),S.u8=R=>new u(1,R),S.u16=R=>new u(2,R),S.u24=R=>new u(3,R),S.u32=R=>new u(4,R),S.u40=R=>new u(5,R),S.u48=R=>new u(6,R),S.nu64=R=>new p(R),S.u16be=R=>new c(2,R),S.u24be=R=>new c(3,R),S.u32be=R=>new c(4,R),S.u40be=R=>new c(5,R),S.u48be=R=>new c(6,R),S.nu64be=R=>new O(R),S.s8=R=>new f(1,R),S.s16=R=>new f(2,R),S.s24=R=>new f(3,R),S.s32=R=>new f(4,R),S.s40=R=>new f(5,R),S.s48=R=>new f(6,R),S.ns64=R=>new b(R),S.s16be=R=>new d(2,R),S.s24be=R=>new d(3,R),S.s32be=R=>new d(4,R),S.s40be=R=>new d(5,R),S.s48be=R=>new d(6,R),S.ns64be=R=>new w(R),S.f32=R=>new T(R),S.f32be=R=>new D(R),S.f64=R=>new v(R),S.f64be=R=>new g(R),S.struct=(R,s,a)=>new j(R,s,a),S.bits=(R,s,a)=>new L(R,s,a),S.seq=(R,s,a)=>new H(R,s,a),S.union=(R,s,a)=>new G(R,s,a),S.unionLayoutDiscriminator=(R,s)=>new B(R,s),S.blob=(R,s)=>new y(R,s),S.cstr=R=>new x(R),S.utf8=(R,s)=>new F(R,s),S.const=(R,s)=>new X(R,s),S}var Ut;function qi(){return Ut||(Ut=1,function(r){var t=Ie&&Ie.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(r,"__esModule",{value:!0}),r.struct=r.f64=r.f32=r.i32=r.u32=r.i16=r.u16=r.i8=r.u8=void 0,r.u64=c,r.i64=f,r.u128=d,r.i128=l,r.u256=A,r.i256=E,r.publicKey=O,r.option=w,r.bool=T,r.vec=g,r.tagged=H,r.vecU8=j,r.str=M,r.rustEnum=B,r.array=G,r.map=U;const e=Mt(),n=Li,i=t(xi());var o=Mt();Object.defineProperty(r,"u8",{enumerable:!0,get:function(){return o.u8}}),Object.defineProperty(r,"i8",{enumerable:!0,get:function(){return o.s8}}),Object.defineProperty(r,"u16",{enumerable:!0,get:function(){return o.u16}}),Object.defineProperty(r,"i16",{enumerable:!0,get:function(){return o.s16}}),Object.defineProperty(r,"u32",{enumerable:!0,get:function(){return o.u32}}),Object.defineProperty(r,"i32",{enumerable:!0,get:function(){return o.s32}}),Object.defineProperty(r,"f32",{enumerable:!0,get:function(){return o.f32}}),Object.defineProperty(r,"f64",{enumerable:!0,get:function(){return o.f64}}),Object.defineProperty(r,"struct",{enumerable:!0,get:function(){return o.struct}});class u extends e.Layout{constructor(I,_,y){super(I,y),this.blob=(0,e.blob)(I),this.signed=_}decode(I,_=0){const y=new i.default(this.blob.decode(I,_),10,"le");return this.signed?y.fromTwos(this.span*8).clone():y}encode(I,_,y=0){return this.signed&&(I=I.toTwos(this.span*8)),this.blob.encode(I.toArrayLike(z,"le",this.span),_,y)}}function c(L){return new u(8,!1,L)}function f(L){return new u(8,!0,L)}function d(L){return new u(16,!1,L)}function l(L){return new u(16,!0,L)}function A(L){return new u(32,!1,L)}function E(L){return new u(32,!0,L)}class p extends e.Layout{constructor(I,_,y,x){super(I.span,x),this.layout=I,this.decoder=_,this.encoder=y}decode(I,_){return this.decoder(this.layout.decode(I,_))}encode(I,_,y){return this.layout.encode(this.encoder(I),_,y)}getSpan(I,_){return this.layout.getSpan(I,_)}}function O(L){return new p((0,e.blob)(32),I=>new n.PublicKey(I),I=>I.toBuffer(),L)}class b extends e.Layout{constructor(I,_){super(-1,_),this.layout=I,this.discriminator=(0,e.u8)()}encode(I,_,y=0){return I==null?this.discriminator.encode(0,_,y):(this.discriminator.encode(1,_,y),this.layout.encode(I,_,y+1)+1)}decode(I,_=0){const y=this.discriminator.decode(I,_);if(y===0)return null;if(y===1)return this.layout.decode(I,_+1);throw new Error("Invalid option "+this.property)}getSpan(I,_=0){const y=this.discriminator.decode(I,_);if(y===0)return 1;if(y===1)return this.layout.getSpan(I,_+1)+1;throw new Error("Invalid option "+this.property)}}function w(L,I){return new b(L,I)}function T(L){return new p((0,e.u8)(),D,v,L)}function D(L){if(L===0)return!1;if(L===1)return!0;throw new Error("Invalid bool: "+L)}function v(L){return L?1:0}function g(L,I){const _=(0,e.u32)("length"),y=(0,e.struct)([_,(0,e.seq)(L,(0,e.offset)(_,-_.span),"values")]);return new p(y,({values:x})=>x,x=>({values:x}),I)}function H(L,I,_){const y=(0,e.struct)([c("tag"),I.replicate("data")]);function x({tag:F,data:X}){if(!F.eq(L))throw new Error("Invalid tag, expected: "+L.toString("hex")+", got: "+F.toString("hex"));return X}return new p(y,x,F=>({tag:L,data:F}),_)}function j(L){const I=(0,e.u32)("length"),_=(0,e.struct)([I,(0,e.blob)((0,e.offset)(I,-I.span),"data")]);return new p(_,({data:y})=>y,y=>({data:y}),L)}function M(L){return new p(j(),I=>I.toString("utf-8"),I=>z.from(I,"utf-8"),L)}function B(L,I,_){const y=(0,e.union)(_??(0,e.u8)(),I);return L.forEach((x,F)=>y.addVariant(F,x,x.property)),y}function G(L,I,_){const y=(0,e.struct)([(0,e.seq)(L,I,"values")]);return new p(y,({values:x})=>x,x=>({values:x}),_)}class P extends e.Layout{constructor(I,_,y){super(I.span+_.span,y),this.keyLayout=I,this.valueLayout=_}decode(I,_){_=_||0;const y=this.keyLayout.decode(I,_),x=this.valueLayout.decode(I,_+this.keyLayout.getSpan(I,_));return[y,x]}encode(I,_,y){y=y||0;const x=this.keyLayout.encode(I[0],_,y),F=this.valueLayout.encode(I[1],_,y+x);return x+F}getSpan(I,_){return this.keyLayout.getSpan(I,_)+this.valueLayout.getSpan(I,_)}}function U(L,I,_){const y=(0,e.u32)("length"),x=(0,e.struct)([y,(0,e.seq)(new P(L,I),(0,e.offset)(y,-y.span),"values")]);return new p(x,({values:F})=>new Map(F),F=>({values:Array.from(F.entries())}),_)}}(Ie)),Ie}var V=qi();function ge(r){let t=r.length;for(;--t>=0;)r[t]=0}const Fi=3,$i=258,gn=29,ji=256,Ki=ji+1+gn,vn=30,zi=512,Xi=new Array((Ki+2)*2);ge(Xi);const Zi=new Array(vn*2);ge(Zi);const Yi=new Array(zi);ge(Yi);const Wi=new Array($i-Fi+1);ge(Wi);const Qi=new Array(gn);ge(Qi);const Ji=new Array(vn);ge(Ji);const eo=(r,t,e,n)=>{let i=r&65535|0,o=r>>>16&65535|0,u=0;for(;e!==0;){u=e>2e3?2e3:e,e-=u;do i=i+t[n++]|0,o=o+i|0;while(--u);i%=65521,o%=65521}return i|o<<16|0};var Ot=eo;const to=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},no=new Uint32Array(to()),ro=(r,t,e,n)=>{const i=no,o=n+e;r^=-1;for(let u=n;u<o;u++)r=r>>>8^i[(r^t[u])&255];return r^-1};var oe=ro,yt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},In={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const io=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var oo=function(r){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const e=t.shift();if(e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(const n in e)io(e,n)&&(r[n]=e[n])}}return r},so=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;const e=new Uint8Array(t);for(let n=0,i=0,o=r.length;n<o;n++){let u=r[n];e.set(u,i),i+=u.length}return e},Cn={assign:oo,flattenChunks:so};let bn=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{bn=!1}const ke=new Uint8Array(256);for(let r=0;r<256;r++)ke[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;ke[254]=ke[254]=1;var ao=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,o,u=r.length,c=0;for(i=0;i<u;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<u&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),c+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(c),o=0,i=0;o<c;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<u&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t};const co=(r,t)=>{if(t<65534&&r.subarray&&bn)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e};var uo=(r,t)=>{const e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i;const o=new Array(e*2);for(i=0,n=0;n<e;){let u=r[n++];if(u<128){o[i++]=u;continue}let c=ke[u];if(c>4){o[i++]=65533,n+=c-1;continue}for(u&=c===2?31:c===3?15:7;c>1&&n<e;)u=u<<6|r[n++]&63,c--;if(c>1){o[i++]=65533;continue}u<65536?o[i++]=u:(u-=65536,o[i++]=55296|u>>10&1023,o[i++]=56320|u&1023)}return co(o,i)},lo=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+ke[r[e]]>t?e:t},At={string2buf:ao,buf2string:uo,utf8border:lo};function ho(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var fo=ho;const qe=16209,_o=16191;var po=function(t,e){let n,i,o,u,c,f,d,l,A,E,p,O,b,w,T,D,v,g,H,j,M,B,G,P;const U=t.state;n=t.next_in,G=t.input,i=n+(t.avail_in-5),o=t.next_out,P=t.output,u=o-(e-t.avail_out),c=o+(t.avail_out-257),f=U.dmax,d=U.wsize,l=U.whave,A=U.wnext,E=U.window,p=U.hold,O=U.bits,b=U.lencode,w=U.distcode,T=(1<<U.lenbits)-1,D=(1<<U.distbits)-1;e:do{O<15&&(p+=G[n++]<<O,O+=8,p+=G[n++]<<O,O+=8),v=b[p&T];t:for(;;){if(g=v>>>24,p>>>=g,O-=g,g=v>>>16&255,g===0)P[o++]=v&65535;else if(g&16){H=v&65535,g&=15,g&&(O<g&&(p+=G[n++]<<O,O+=8),H+=p&(1<<g)-1,p>>>=g,O-=g),O<15&&(p+=G[n++]<<O,O+=8,p+=G[n++]<<O,O+=8),v=w[p&D];n:for(;;){if(g=v>>>24,p>>>=g,O-=g,g=v>>>16&255,g&16){if(j=v&65535,g&=15,O<g&&(p+=G[n++]<<O,O+=8,O<g&&(p+=G[n++]<<O,O+=8)),j+=p&(1<<g)-1,j>f){t.msg="invalid distance too far back",U.mode=qe;break e}if(p>>>=g,O-=g,g=o-u,j>g){if(g=j-g,g>l&&U.sane){t.msg="invalid distance too far back",U.mode=qe;break e}if(M=0,B=E,A===0){if(M+=d-g,g<H){H-=g;do P[o++]=E[M++];while(--g);M=o-j,B=P}}else if(A<g){if(M+=d+A-g,g-=A,g<H){H-=g;do P[o++]=E[M++];while(--g);if(M=0,A<H){g=A,H-=g;do P[o++]=E[M++];while(--g);M=o-j,B=P}}}else if(M+=A-g,g<H){H-=g;do P[o++]=E[M++];while(--g);M=o-j,B=P}for(;H>2;)P[o++]=B[M++],P[o++]=B[M++],P[o++]=B[M++],H-=3;H&&(P[o++]=B[M++],H>1&&(P[o++]=B[M++]))}else{M=o-j;do P[o++]=P[M++],P[o++]=P[M++],P[o++]=P[M++],H-=3;while(H>2);H&&(P[o++]=P[M++],H>1&&(P[o++]=P[M++]))}}else if((g&64)===0){v=w[(v&65535)+(p&(1<<g)-1)];continue n}else{t.msg="invalid distance code",U.mode=qe;break e}break}}else if((g&64)===0){v=b[(v&65535)+(p&(1<<g)-1)];continue t}else if(g&32){U.mode=_o;break e}else{t.msg="invalid literal/length code",U.mode=qe;break e}break}}while(n<i&&o<c);H=O>>3,n-=H,O-=H<<3,p&=(1<<O)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<c?257+(c-o):257-(o-c),U.hold=p,U.bits=O};const Ae=15,Ht=852,Pt=592,Bt=0,st=1,Gt=2,Ro=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),mo=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),Eo=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),Oo=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),yo=(r,t,e,n,i,o,u,c)=>{const f=c.bits;let d=0,l=0,A=0,E=0,p=0,O=0,b=0,w=0,T=0,D=0,v,g,H,j,M,B=null,G;const P=new Uint16Array(Ae+1),U=new Uint16Array(Ae+1);let L=null,I,_,y;for(d=0;d<=Ae;d++)P[d]=0;for(l=0;l<n;l++)P[t[e+l]]++;for(p=f,E=Ae;E>=1&&P[E]===0;E--);if(p>E&&(p=E),E===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,c.bits=1,0;for(A=1;A<E&&P[A]===0;A++);for(p<A&&(p=A),w=1,d=1;d<=Ae;d++)if(w<<=1,w-=P[d],w<0)return-1;if(w>0&&(r===Bt||E!==1))return-1;for(U[1]=0,d=1;d<Ae;d++)U[d+1]=U[d]+P[d];for(l=0;l<n;l++)t[e+l]!==0&&(u[U[t[e+l]]++]=l);if(r===Bt?(B=L=u,G=20):r===st?(B=Ro,L=mo,G=257):(B=Eo,L=Oo,G=0),D=0,l=0,d=A,M=o,O=p,b=0,H=-1,T=1<<p,j=T-1,r===st&&T>Ht||r===Gt&&T>Pt)return 1;for(;;){I=d-b,u[l]+1<G?(_=0,y=u[l]):u[l]>=G?(_=L[u[l]-G],y=B[u[l]-G]):(_=96,y=0),v=1<<d-b,g=1<<O,A=g;do g-=v,i[M+(D>>b)+g]=I<<24|_<<16|y|0;while(g!==0);for(v=1<<d-1;D&v;)v>>=1;if(v!==0?(D&=v-1,D+=v):D=0,l++,--P[d]===0){if(d===E)break;d=t[e+u[l]]}if(d>p&&(D&j)!==H){for(b===0&&(b=p),M+=A,O=d-b,w=1<<O;O+b<E&&(w-=P[O+b],!(w<=0));)O++,w<<=1;if(T+=1<<O,r===st&&T>Ht||r===Gt&&T>Pt)return 1;H=D&j,i[H]=p<<24|O<<16|M-o|0}}return D!==0&&(i[M+D]=d-b<<24|64<<16|0),c.bits=p,0};var be=yo;const Ao=0,Sn=1,kn=2,{Z_FINISH:Vt,Z_BLOCK:wo,Z_TREES:Fe,Z_OK:Oe,Z_STREAM_END:No,Z_NEED_DICT:To,Z_STREAM_ERROR:ne,Z_DATA_ERROR:xn,Z_MEM_ERROR:Ln,Z_BUF_ERROR:go,Z_DEFLATED:qt}=In,et=16180,Ft=16181,$t=16182,jt=16183,Kt=16184,zt=16185,Xt=16186,Zt=16187,Yt=16188,Wt=16189,Ye=16190,se=16191,at=16192,Qt=16193,ct=16194,Jt=16195,en=16196,tn=16197,nn=16198,$e=16199,je=16200,rn=16201,on=16202,sn=16203,an=16204,cn=16205,ut=16206,un=16207,dn=16208,K=16209,Dn=16210,Mn=16211,vo=852,Io=592,Co=15,bo=Co,ln=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function So(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const ye=r=>{if(!r)return 1;const t=r.state;return!t||t.strm!==r||t.mode<et||t.mode>Mn?1:0},Un=r=>{if(ye(r))return ne;const t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=et,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(vo),t.distcode=t.distdyn=new Int32Array(Io),t.sane=1,t.back=-1,Oe},Hn=r=>{if(ye(r))return ne;const t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,Un(r)},Pn=(r,t)=>{let e;if(ye(r))return ne;const n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?ne:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,Hn(r))},Bn=(r,t)=>{if(!r)return ne;const e=new So;r.state=e,e.strm=r,e.window=null,e.mode=et;const n=Pn(r,t);return n!==Oe&&(r.state=null),n},ko=r=>Bn(r,bo);let hn=!0,dt,lt;const xo=r=>{if(hn){dt=new Int32Array(512),lt=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(be(Sn,r.lens,0,288,dt,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;be(kn,r.lens,0,32,lt,0,r.work,{bits:5}),hn=!1}r.lencode=dt,r.lenbits=9,r.distcode=lt,r.distbits=5},Gn=(r,t,e,n)=>{let i;const o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Lo=(r,t)=>{let e,n,i,o,u,c,f,d,l,A,E,p,O,b,w=0,T,D,v,g,H,j,M,B;const G=new Uint8Array(4);let P,U;const L=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(ye(r)||!r.output||!r.input&&r.avail_in!==0)return ne;e=r.state,e.mode===se&&(e.mode=at),u=r.next_out,i=r.output,f=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,d=e.hold,l=e.bits,A=c,E=f,B=Oe;e:for(;;)switch(e.mode){case et:if(e.wrap===0){e.mode=at;break}for(;l<16;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(e.wrap&2&&d===35615){e.wbits===0&&(e.wbits=15),e.check=0,G[0]=d&255,G[1]=d>>>8&255,e.check=oe(e.check,G,2,0),d=0,l=0,e.mode=Ft;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((d&255)<<8)+(d>>8))%31){r.msg="incorrect header check",e.mode=K;break}if((d&15)!==qt){r.msg="unknown compression method",e.mode=K;break}if(d>>>=4,l-=4,M=(d&15)+8,e.wbits===0&&(e.wbits=M),M>15||M>e.wbits){r.msg="invalid window size",e.mode=K;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=d&512?Wt:se,d=0,l=0;break;case Ft:for(;l<16;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(e.flags=d,(e.flags&255)!==qt){r.msg="unknown compression method",e.mode=K;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=K;break}e.head&&(e.head.text=d>>8&1),e.flags&512&&e.wrap&4&&(G[0]=d&255,G[1]=d>>>8&255,e.check=oe(e.check,G,2,0)),d=0,l=0,e.mode=$t;case $t:for(;l<32;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.head&&(e.head.time=d),e.flags&512&&e.wrap&4&&(G[0]=d&255,G[1]=d>>>8&255,G[2]=d>>>16&255,G[3]=d>>>24&255,e.check=oe(e.check,G,4,0)),d=0,l=0,e.mode=jt;case jt:for(;l<16;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.head&&(e.head.xflags=d&255,e.head.os=d>>8),e.flags&512&&e.wrap&4&&(G[0]=d&255,G[1]=d>>>8&255,e.check=oe(e.check,G,2,0)),d=0,l=0,e.mode=Kt;case Kt:if(e.flags&1024){for(;l<16;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.length=d,e.head&&(e.head.extra_len=d),e.flags&512&&e.wrap&4&&(G[0]=d&255,G[1]=d>>>8&255,e.check=oe(e.check,G,2,0)),d=0,l=0}else e.head&&(e.head.extra=null);e.mode=zt;case zt:if(e.flags&1024&&(p=e.length,p>c&&(p=c),p&&(e.head&&(M=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+p),M)),e.flags&512&&e.wrap&4&&(e.check=oe(e.check,n,p,o)),c-=p,o+=p,e.length-=p),e.length))break e;e.length=0,e.mode=Xt;case Xt:if(e.flags&2048){if(c===0)break e;p=0;do M=n[o+p++],e.head&&M&&e.length<65536&&(e.head.name+=String.fromCharCode(M));while(M&&p<c);if(e.flags&512&&e.wrap&4&&(e.check=oe(e.check,n,p,o)),c-=p,o+=p,M)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Zt;case Zt:if(e.flags&4096){if(c===0)break e;p=0;do M=n[o+p++],e.head&&M&&e.length<65536&&(e.head.comment+=String.fromCharCode(M));while(M&&p<c);if(e.flags&512&&e.wrap&4&&(e.check=oe(e.check,n,p,o)),c-=p,o+=p,M)break e}else e.head&&(e.head.comment=null);e.mode=Yt;case Yt:if(e.flags&512){for(;l<16;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(e.wrap&4&&d!==(e.check&65535)){r.msg="header crc mismatch",e.mode=K;break}d=0,l=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=se;break;case Wt:for(;l<32;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}r.adler=e.check=ln(d),d=0,l=0,e.mode=Ye;case Ye:if(e.havedict===0)return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=l,To;r.adler=e.check=1,e.mode=se;case se:if(t===wo||t===Fe)break e;case at:if(e.last){d>>>=l&7,l-=l&7,e.mode=ut;break}for(;l<3;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}switch(e.last=d&1,d>>>=1,l-=1,d&3){case 0:e.mode=Qt;break;case 1:if(xo(e),e.mode=$e,t===Fe){d>>>=2,l-=2;break e}break;case 2:e.mode=en;break;case 3:r.msg="invalid block type",e.mode=K}d>>>=2,l-=2;break;case Qt:for(d>>>=l&7,l-=l&7;l<32;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if((d&65535)!==(d>>>16^65535)){r.msg="invalid stored block lengths",e.mode=K;break}if(e.length=d&65535,d=0,l=0,e.mode=ct,t===Fe)break e;case ct:e.mode=Jt;case Jt:if(p=e.length,p){if(p>c&&(p=c),p>f&&(p=f),p===0)break e;i.set(n.subarray(o,o+p),u),c-=p,o+=p,f-=p,u+=p,e.length-=p;break}e.mode=se;break;case en:for(;l<14;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(e.nlen=(d&31)+257,d>>>=5,l-=5,e.ndist=(d&31)+1,d>>>=5,l-=5,e.ncode=(d&15)+4,d>>>=4,l-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=K;break}e.have=0,e.mode=tn;case tn:for(;e.have<e.ncode;){for(;l<3;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.lens[L[e.have++]]=d&7,d>>>=3,l-=3}for(;e.have<19;)e.lens[L[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,P={bits:e.lenbits},B=be(Ao,e.lens,0,19,e.lencode,0,e.work,P),e.lenbits=P.bits,B){r.msg="invalid code lengths set",e.mode=K;break}e.have=0,e.mode=nn;case nn:for(;e.have<e.nlen+e.ndist;){for(;w=e.lencode[d&(1<<e.lenbits)-1],T=w>>>24,D=w>>>16&255,v=w&65535,!(T<=l);){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(v<16)d>>>=T,l-=T,e.lens[e.have++]=v;else{if(v===16){for(U=T+2;l<U;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(d>>>=T,l-=T,e.have===0){r.msg="invalid bit length repeat",e.mode=K;break}M=e.lens[e.have-1],p=3+(d&3),d>>>=2,l-=2}else if(v===17){for(U=T+3;l<U;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}d>>>=T,l-=T,M=0,p=3+(d&7),d>>>=3,l-=3}else{for(U=T+7;l<U;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}d>>>=T,l-=T,M=0,p=11+(d&127),d>>>=7,l-=7}if(e.have+p>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=K;break}for(;p--;)e.lens[e.have++]=M}}if(e.mode===K)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=K;break}if(e.lenbits=9,P={bits:e.lenbits},B=be(Sn,e.lens,0,e.nlen,e.lencode,0,e.work,P),e.lenbits=P.bits,B){r.msg="invalid literal/lengths set",e.mode=K;break}if(e.distbits=6,e.distcode=e.distdyn,P={bits:e.distbits},B=be(kn,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,P),e.distbits=P.bits,B){r.msg="invalid distances set",e.mode=K;break}if(e.mode=$e,t===Fe)break e;case $e:e.mode=je;case je:if(c>=6&&f>=258){r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=l,po(r,E),u=r.next_out,i=r.output,f=r.avail_out,o=r.next_in,n=r.input,c=r.avail_in,d=e.hold,l=e.bits,e.mode===se&&(e.back=-1);break}for(e.back=0;w=e.lencode[d&(1<<e.lenbits)-1],T=w>>>24,D=w>>>16&255,v=w&65535,!(T<=l);){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(D&&(D&240)===0){for(g=T,H=D,j=v;w=e.lencode[j+((d&(1<<g+H)-1)>>g)],T=w>>>24,D=w>>>16&255,v=w&65535,!(g+T<=l);){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}d>>>=g,l-=g,e.back+=g}if(d>>>=T,l-=T,e.back+=T,e.length=v,D===0){e.mode=cn;break}if(D&32){e.back=-1,e.mode=se;break}if(D&64){r.msg="invalid literal/length code",e.mode=K;break}e.extra=D&15,e.mode=rn;case rn:if(e.extra){for(U=e.extra;l<U;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.length+=d&(1<<e.extra)-1,d>>>=e.extra,l-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=on;case on:for(;w=e.distcode[d&(1<<e.distbits)-1],T=w>>>24,D=w>>>16&255,v=w&65535,!(T<=l);){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if((D&240)===0){for(g=T,H=D,j=v;w=e.distcode[j+((d&(1<<g+H)-1)>>g)],T=w>>>24,D=w>>>16&255,v=w&65535,!(g+T<=l);){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}d>>>=g,l-=g,e.back+=g}if(d>>>=T,l-=T,e.back+=T,D&64){r.msg="invalid distance code",e.mode=K;break}e.offset=v,e.extra=D&15,e.mode=sn;case sn:if(e.extra){for(U=e.extra;l<U;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}e.offset+=d&(1<<e.extra)-1,d>>>=e.extra,l-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=K;break}e.mode=an;case an:if(f===0)break e;if(p=E-f,e.offset>p){if(p=e.offset-p,p>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=K;break}p>e.wnext?(p-=e.wnext,O=e.wsize-p):O=e.wnext-p,p>e.length&&(p=e.length),b=e.window}else b=i,O=u-e.offset,p=e.length;p>f&&(p=f),f-=p,e.length-=p;do i[u++]=b[O++];while(--p);e.length===0&&(e.mode=je);break;case cn:if(f===0)break e;i[u++]=e.length,f--,e.mode=je;break;case ut:if(e.wrap){for(;l<32;){if(c===0)break e;c--,d|=n[o++]<<l,l+=8}if(E-=f,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?oe(e.check,i,E,u-E):Ot(e.check,i,E,u-E)),E=f,e.wrap&4&&(e.flags?d:ln(d))!==e.check){r.msg="incorrect data check",e.mode=K;break}d=0,l=0}e.mode=un;case un:if(e.wrap&&e.flags){for(;l<32;){if(c===0)break e;c--,d+=n[o++]<<l,l+=8}if(e.wrap&4&&d!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=K;break}d=0,l=0}e.mode=dn;case dn:B=No;break e;case K:B=xn;break e;case Dn:return Ln;case Mn:default:return ne}return r.next_out=u,r.avail_out=f,r.next_in=o,r.avail_in=c,e.hold=d,e.bits=l,(e.wsize||E!==r.avail_out&&e.mode<K&&(e.mode<ut||t!==Vt))&&Gn(r,r.output,r.next_out,E-r.avail_out),A-=r.avail_in,E-=r.avail_out,r.total_in+=A,r.total_out+=E,e.total+=E,e.wrap&4&&E&&(r.adler=e.check=e.flags?oe(e.check,i,E,r.next_out-E):Ot(e.check,i,E,r.next_out-E)),r.data_type=e.bits+(e.last?64:0)+(e.mode===se?128:0)+(e.mode===$e||e.mode===ct?256:0),(A===0&&E===0||t===Vt)&&B===Oe&&(B=go),B},Do=r=>{if(ye(r))return ne;let t=r.state;return t.window&&(t.window=null),r.state=null,Oe},Mo=(r,t)=>{if(ye(r))return ne;const e=r.state;return(e.wrap&2)===0?ne:(e.head=t,t.done=!1,Oe)},Uo=(r,t)=>{const e=t.length;let n,i,o;return ye(r)||(n=r.state,n.wrap!==0&&n.mode!==Ye)?ne:n.mode===Ye&&(i=1,i=Ot(i,t,e,0),i!==n.check)?xn:(o=Gn(r,t,e,e),o?(n.mode=Dn,Ln):(n.havedict=1,Oe))};var Ho=Hn,Po=Pn,Bo=Un,Go=ko,Vo=Bn,qo=Lo,Fo=Do,$o=Mo,jo=Uo,Ko="pako inflate (from Nodeca project)",ae={inflateReset:Ho,inflateReset2:Po,inflateResetKeep:Bo,inflateInit:Go,inflateInit2:Vo,inflate:qo,inflateEnd:Fo,inflateGetHeader:$o,inflateSetDictionary:jo,inflateInfo:Ko};function zo(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Xo=zo;const Vn=Object.prototype.toString,{Z_NO_FLUSH:Zo,Z_FINISH:Yo,Z_OK:xe,Z_STREAM_END:ht,Z_NEED_DICT:ft,Z_STREAM_ERROR:Wo,Z_DATA_ERROR:fn,Z_MEM_ERROR:Qo}=In;function tt(r){this.options=Cn.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new fo,this.strm.avail_out=0;let e=ae.inflateInit2(this.strm,t.windowBits);if(e!==xe)throw new Error(yt[e]);if(this.header=new Xo,ae.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=At.string2buf(t.dictionary):Vn.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=ae.inflateSetDictionary(this.strm,t.dictionary),e!==xe)))throw new Error(yt[e])}tt.prototype.push=function(r,t){const e=this.strm,n=this.options.chunkSize,i=this.options.dictionary;let o,u,c;if(this.ended)return!1;for(t===~~t?u=t:u=t===!0?Yo:Zo,Vn.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=ae.inflate(e,u),o===ft&&i&&(o=ae.inflateSetDictionary(e,i),o===xe?o=ae.inflate(e,u):o===fn&&(o=ft));e.avail_in>0&&o===ht&&e.state.wrap>0&&r[e.next_in]!==0;)ae.inflateReset(e),o=ae.inflate(e,u);switch(o){case Wo:case fn:case ft:case Qo:return this.onEnd(o),this.ended=!0,!1}if(c=e.avail_out,e.next_out&&(e.avail_out===0||o===ht))if(this.options.to==="string"){let f=At.utf8border(e.output,e.next_out),d=e.next_out-f,l=At.buf2string(e.output,f);e.next_out=d,e.avail_out=n-d,d&&e.output.set(e.output.subarray(f,f+d),0),this.onData(l)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===xe&&c===0)){if(o===ht)return o=ae.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};tt.prototype.onData=function(r){this.chunks.push(r)};tt.prototype.onEnd=function(r){r===xe&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Cn.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function Jo(r,t){const e=new tt(t);if(e.push(r),e.err)throw e.msg||yt[e.err];return e.result}var es=Jo,ts={inflate:es};const{inflate:ns}=ts;var rs=ns,_t={exports:{}},_n;function is(){return _n||(_n=1,function(r){var t=Object.prototype.hasOwnProperty,e="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(e=!1));function i(f,d,l){this.fn=f,this.context=d,this.once=l||!1}function o(f,d,l,A,E){if(typeof l!="function")throw new TypeError("The listener must be a function");var p=new i(l,A||f,E),O=e?e+d:d;return f._events[O]?f._events[O].fn?f._events[O]=[f._events[O],p]:f._events[O].push(p):(f._events[O]=p,f._eventsCount++),f}function u(f,d){--f._eventsCount===0?f._events=new n:delete f._events[d]}function c(){this._events=new n,this._eventsCount=0}c.prototype.eventNames=function(){var d=[],l,A;if(this._eventsCount===0)return d;for(A in l=this._events)t.call(l,A)&&d.push(e?A.slice(1):A);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(l)):d},c.prototype.listeners=function(d){var l=e?e+d:d,A=this._events[l];if(!A)return[];if(A.fn)return[A.fn];for(var E=0,p=A.length,O=new Array(p);E<p;E++)O[E]=A[E].fn;return O},c.prototype.listenerCount=function(d){var l=e?e+d:d,A=this._events[l];return A?A.fn?1:A.length:0},c.prototype.emit=function(d,l,A,E,p,O){var b=e?e+d:d;if(!this._events[b])return!1;var w=this._events[b],T=arguments.length,D,v;if(w.fn){switch(w.once&&this.removeListener(d,w.fn,void 0,!0),T){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,l),!0;case 3:return w.fn.call(w.context,l,A),!0;case 4:return w.fn.call(w.context,l,A,E),!0;case 5:return w.fn.call(w.context,l,A,E,p),!0;case 6:return w.fn.call(w.context,l,A,E,p,O),!0}for(v=1,D=new Array(T-1);v<T;v++)D[v-1]=arguments[v];w.fn.apply(w.context,D)}else{var g=w.length,H;for(v=0;v<g;v++)switch(w[v].once&&this.removeListener(d,w[v].fn,void 0,!0),T){case 1:w[v].fn.call(w[v].context);break;case 2:w[v].fn.call(w[v].context,l);break;case 3:w[v].fn.call(w[v].context,l,A);break;case 4:w[v].fn.call(w[v].context,l,A,E);break;default:if(!D)for(H=1,D=new Array(T-1);H<T;H++)D[H-1]=arguments[H];w[v].fn.apply(w[v].context,D)}}return!0},c.prototype.on=function(d,l,A){return o(this,d,l,A,!1)},c.prototype.once=function(d,l,A){return o(this,d,l,A,!0)},c.prototype.removeListener=function(d,l,A,E){var p=e?e+d:d;if(!this._events[p])return this;if(!l)return u(this,p),this;var O=this._events[p];if(O.fn)O.fn===l&&(!E||O.once)&&(!A||O.context===A)&&u(this,p);else{for(var b=0,w=[],T=O.length;b<T;b++)(O[b].fn!==l||E&&!O[b].once||A&&O[b].context!==A)&&w.push(O[b]);w.length?this._events[p]=w.length===1?w[0]:w:u(this,p)}return this},c.prototype.removeAllListeners=function(d){var l;return d?(l=e?e+d:d,this._events[l]&&u(this,l)):(this._events=new n,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=e,c.EventEmitter=c,r.exports=c}(_t)),_t.exports}var os=is();const ss=Tn(os);function as(r,t){return Array.apply(0,new Array(Math.ceil(r.length/t))).map((e,n)=>r.slice(n*t,(n+1)*t))}const pe=r=>"version"in r;function cs(r){return new TextDecoder("utf-8").decode(r)}function pn(r){return vt.encode(r)}function qn(r){return ee.from(r,"base64")}function le(r){return"accounts"in r}async function us(r){const t=(await W.findProgramAddress([],r))[0];return await W.createWithSeed(t,ds(),r)}function ds(){return"anchor:idl"}const ls=V.struct([V.publicKey("authority"),V.vecU8("data")]);function hs(r){return ls.decode(r)}function fs(r){const t=["name","path","account","relations","generic"],e=o=>o.split(".").map(Vi).join("."),n=o=>{for(const u in o){const c=o[u];t.includes(u)?o[u]=Array.isArray(c)?c.map(e):e(c):typeof c=="object"&&n(c)}},i=structuredClone(r);return n(i),i}function we(r,t,e,n){return r!=null&&r.length?r[0].name?e(r):n(r):t()}function _s(r){const t=new Map;return r.errors&&r.errors.forEach(e=>{var n;let i=(n=e.msg)!==null&&n!==void 0?n:e.name;t.set(e.code,i)}),t}function ps(r,...t){if(r.args.length!=t.length)throw new Error("Invalid argument length");const e={};let n=0;return r.args.forEach(i=>{e[i.name]=t[n],n+=1}),e}function Fn(r,t={}){r.forEach(e=>{if(le(e))Fn(e.accounts,t[e.name]);else if(!t[e.name])throw new Error(`Account \`${e.name}\` not provided.`)})}function ie(r){return r instanceof W?r:new W(r)}class Rs extends TypeError{constructor(t,e){let n;const{message:i,...o}=t,{path:u}=t,c=u.length===0?i:"At path: "+u.join(".")+" -- "+i;super(c),this.value=void 0,this.key=void 0,this.type=void 0,this.refinement=void 0,this.path=void 0,this.branch=void 0,this.failures=void 0,Object.assign(this,o),this.name=this.constructor.name,this.failures=()=>{var f;return(f=n)!=null?f:n=[t,...e()]}}}function ms(r){return Ne(r)&&typeof r[Symbol.iterator]=="function"}function Ne(r){return typeof r=="object"&&r!=null}function fe(r){return typeof r=="string"?JSON.stringify(r):""+r}function Es(r){const{done:t,value:e}=r.next();return t?void 0:e}function Os(r,t,e,n){if(r===!0)return;r===!1?r={}:typeof r=="string"&&(r={message:r});const{path:i,branch:o}=t,{type:u}=e,{refinement:c,message:f="Expected a value of type `"+u+"`"+(c?" with refinement `"+c+"`":"")+", but received: `"+fe(n)+"`"}=r;return{value:n,type:u,refinement:c,key:i[i.length-1],path:i,branch:o,...r,message:f}}function*Rn(r,t,e,n){ms(r)||(r=[r]);for(const i of r){const o=Os(i,t,e,n);o&&(yield o)}}function*It(r,t,e){e===void 0&&(e={});const{path:n=[],branch:i=[r],coerce:o=!1,mask:u=!1}=e,c={path:n,branch:i};if(o&&(r=t.coercer(r,c),u&&t.type!=="type"&&Ne(t.schema)&&Ne(r)&&!Array.isArray(r)))for(const d in r)t.schema[d]===void 0&&delete r[d];let f=!0;for(const d of t.validator(r,c))f=!1,yield[d,void 0];for(let[d,l,A]of t.entries(r,c)){const E=It(l,A,{path:d===void 0?n:[...n,d],branch:d===void 0?i:[...i,l],coerce:o,mask:u});for(const p of E)p[0]?(f=!1,yield[p[0],void 0]):o&&(l=p[1],d===void 0?r=l:r instanceof Map?r.set(d,l):r instanceof Set?r.add(l):Ne(r)&&(r[d]=l))}if(f)for(const d of t.refiner(r,c))f=!1,yield[d,void 0];f&&(yield[void 0,r])}class _e{constructor(t){this.TYPE=void 0,this.type=void 0,this.schema=void 0,this.coercer=void 0,this.validator=void 0,this.refiner=void 0,this.entries=void 0;const{type:e,schema:n,validator:i,refiner:o,coercer:u=f=>f,entries:c=function*(){}}=t;this.type=e,this.schema=n,this.entries=c,this.coercer=u,i?this.validator=(f,d)=>{const l=i(f,d);return Rn(l,d,this,f)}:this.validator=()=>[],o?this.refiner=(f,d)=>{const l=o(f,d);return Rn(l,d,this,f)}:this.refiner=()=>[]}assert(t){return ys(t,this)}create(t){return Ct(t,this)}is(t){return $n(t,this)}mask(t){return As(t,this)}validate(t,e){return e===void 0&&(e={}),He(t,this,e)}}function ys(r,t){const e=He(r,t);if(e[0])throw e[0]}function Ct(r,t){const e=He(r,t,{coerce:!0});if(e[0])throw e[0];return e[1]}function As(r,t){const e=He(r,t,{coerce:!0,mask:!0});if(e[0])throw e[0];return e[1]}function $n(r,t){return!He(r,t)[0]}function He(r,t,e){e===void 0&&(e={});const n=It(r,t,e),i=Es(n);return i[0]?[new Rs(i[0],function*(){for(const u of n)u[0]&&(yield u[0])}),void 0]:[void 0,i[1]]}function Pe(r,t){return new _e({type:r,schema:null,validator:t})}function ws(){return Pe("any",()=>!0)}function pt(r){return new _e({type:"array",schema:r,*entries(t){if(r&&Array.isArray(t))for(const[e,n]of t.entries())yield[e,n,r]},coercer(t){return Array.isArray(t)?t.slice():t},validator(t){return Array.isArray(t)||"Expected an array value, but received: "+fe(t)}})}function Ns(){return Pe("boolean",r=>typeof r=="boolean")}function mn(r){const t=fe(r);return new _e({type:"literal",schema:r,validator(e){return e===r||"Expected the literal `"+t+"`, but received: "+fe(e)}})}function Ke(r){return new _e({...r,validator:(t,e)=>t===null||r.validator(t,e),refiner:(t,e)=>t===null||r.refiner(t,e)})}function Xe(){return Pe("number",r=>typeof r=="number"&&!isNaN(r)||"Expected a number, but received: "+fe(r))}function Ze(r){return new _e({...r,validator:(t,e)=>t===void 0||r.validator(t,e),refiner:(t,e)=>t===void 0||r.refiner(t,e)})}function me(){return Pe("string",r=>typeof r=="string"||"Expected a string, but received: "+fe(r))}function he(r){const t=Object.keys(r);return new _e({type:"type",schema:r,*entries(e){if(Ne(e))for(const n of t)yield[n,e[n],r[n]]},validator(e){return Ne(e)||"Expected an object, but received: "+fe(e)}})}function jn(r){const t=r.map(e=>e.type).join(" | ");return new _e({type:"union",schema:null,coercer(e,n){return(r.find(o=>{const[u]=o.validate(e,{coerce:!0});return!u})||bt()).coercer(e,n)},validator(e,n){const i=[];for(const o of r){const[...u]=It(e,o,n),[c]=u;if(c[0])for(const[f]of u)f&&i.push(f);else return[]}return["Expected the value to satisfy a union of `"+t+"`, but received: "+fe(e),...i]}})}function bt(){return Pe("unknown",()=>!0)}function Ts(r,t,e){return new _e({...r,coercer:(n,i)=>$n(n,t)?r.coercer(e(n,i),i):r.coercer(n,i)})}const En=99;async function gs(r,t,e){if(t.length<=En)return await On(r,t,e);{const n=as(t,En);return(await Promise.all(n.map(o=>On(r,o,e)))).flat()}}async function On(r,t,e){const n=e??r.commitment,{value:i,context:o}=await r.getMultipleAccountsInfoAndContext(t,n);return i.map((c,f)=>c===null?null:{publicKey:t[f],account:c,context:o})}async function vs(r,t,e,n,i){var o;e&&e.length>0&&t.sign(...e);const u=t._compile(),c=u.serialize(),d=t._serialize(c).toString("base64"),l={encoding:"base64",commitment:n??r.commitment};if(i){const O=(Array.isArray(i)?i:u.nonProgramIds()).map(b=>b.toBase58());l.accounts={encoding:"base64",addresses:O}}e&&e.length>0&&(l.sigVerify=!0);const A=[d,l],E=await r._rpcRequest("simulateTransaction",A),p=Ct(E,Ss);if("error"in p){let O;if("data"in p.error&&(O=(o=p.error.data)===null||o===void 0?void 0:o.logs,O&&Array.isArray(O))){const b=`
    `,w=b+O.join(b);console.error(p.error.message,w)}throw new Et("failed to simulate transaction: "+p.error.message,O)}return p.result}function Is(r){return Ts(Kn(r),Cs,t=>"error"in t?t:{...t,result:Ct(t.result,r)})}const Cs=Kn(bt());function Kn(r){return jn([he({jsonrpc:mn("2.0"),id:me(),result:r}),he({jsonrpc:mn("2.0"),id:me(),error:he({code:bt(),message:me(),data:Ze(ws())})})])}function bs(r){return Is(he({context:he({slot:Xe()}),value:r}))}const Ss=bs(he({err:Ke(jn([he({}),me()])),logs:Ke(pt(me())),accounts:Ze(Ke(pt(Ke(he({executable:Ns(),owner:me(),lamports:Xe(),data:pt(me()),rentEpoch:Ze(Xe())}))))),unitsConsumed:Ze(Xe())}));class Le{constructor(t,e,n=Le.defaultOptions()){this.connection=t,this.wallet=e,this.opts=n,this.publicKey=e==null?void 0:e.publicKey}static defaultOptions(){return{preflightCommitment:"processed",commitment:"processed"}}static local(t,e=Le.defaultOptions()){throw new Error("Provider local is not available on browser.")}static env(){throw new Error("Provider env is not available on browser.")}async sendAndConfirm(t,e,n){var i,o,u,c;if(n===void 0&&(n=this.opts),pe(t))e&&t.sign(e);else if(t.feePayer=(i=t.feePayer)!==null&&i!==void 0?i:this.wallet.publicKey,t.recentBlockhash=(await this.connection.getLatestBlockhash(n.preflightCommitment)).blockhash,e)for(const d of e)t.partialSign(d);t=await this.wallet.signTransaction(t);const f=t.serialize();try{return await yn(this.connection,f,n)}catch(d){if(d instanceof wt){const l=pn(pe(t)?((o=t.signatures)===null||o===void 0?void 0:o[0])||new Uint8Array:(u=t.signature)!==null&&u!==void 0?u:new Uint8Array),A=pe(t)?0:void 0,E=await this.connection.getTransaction(l,{commitment:"confirmed",maxSupportedTransactionVersion:A});if(E){const p=(c=E.meta)===null||c===void 0?void 0:c.logMessages;throw p?new Et(d.message,p):d}else throw d}else throw d}}async sendAll(t,e){var n,i,o;e===void 0&&(e=this.opts);const u=(await this.connection.getLatestBlockhash(e.preflightCommitment)).blockhash;let c=t.map(l=>{var A,E;if(pe(l.tx)){let p=l.tx;return l.signers&&p.sign(l.signers),p}else{let p=l.tx,O=(A=l.signers)!==null&&A!==void 0?A:[];return p.feePayer=(E=p.feePayer)!==null&&E!==void 0?E:this.wallet.publicKey,p.recentBlockhash=u,O.forEach(b=>{p.partialSign(b)}),p}});const f=await this.wallet.signAllTransactions(c),d=[];for(let l=0;l<c.length;l+=1){const A=f[l],E=A.serialize();try{d.push(await yn(this.connection,E,e))}catch(p){if(p instanceof wt){const O=pn(pe(A)?((n=A.signatures)===null||n===void 0?void 0:n[0])||new Uint8Array:(i=A.signature)!==null&&i!==void 0?i:new Uint8Array),b=pe(A)?0:void 0,w=await this.connection.getTransaction(O,{commitment:"confirmed",maxSupportedTransactionVersion:b});if(w){const T=(o=w.meta)===null||o===void 0?void 0:o.logMessages;throw T?new Et(p.message,T):p}else throw p}else throw p}}return d}async simulate(t,e,n,i){let o=(await this.connection.getLatestBlockhash(n??this.connection.commitment)).blockhash,u;if(pe(t)?(e&&e.length>0&&(t.sign(e),t=await this.wallet.signTransaction(t)),u=await this.connection.simulateTransaction(t,{commitment:n})):(t.feePayer=t.feePayer||this.wallet.publicKey,t.recentBlockhash=o,e&&e.length>0&&(t=await this.wallet.signTransaction(t)),u=await vs(this.connection,t,e,n,i)),u.value.err)throw new ks(u.value);return u.value}}class ks extends Error{constructor(t,e){super(e),this.simulationResponse=t}}async function yn(r,t,e){const n=e?{skipPreflight:e.skipPreflight,preflightCommitment:e.preflightCommitment||e.commitment,maxRetries:e.maxRetries,minContextSlot:e.minContextSlot}:{};let i;const o=Date.now();for(;Date.now()-o<6e4;)try{const u=await r.sendRawTransaction(t,n);if(e!=null&&e.blockhash)if(n.maxRetries===0){const c=AbortSignal.timeout(15e3);i=(await r.confirmTransaction({abortSignal:c,signature:u,...e.blockhash},e&&e.commitment)).value}else i=(await r.confirmTransaction({signature:u,...e.blockhash},e&&e.commitment)).value;else i=(await r.confirmTransaction(u,e&&e.commitment)).value;if(i.err)throw new wt(`Raw transaction ${u} failed (${JSON.stringify(i)})`);return u}catch(u){if(u.name==="TimeoutError")continue;throw u}throw Error("Transaction failed to confirm in 60s")}class wt extends Error{constructor(t){super(t)}}function Nt(){return Le.local()}var xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof xt<"u"?xt:typeof self<"u"?self:{},m={};Object.defineProperty(m,"__esModule",{value:!0});var zn=m.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=Fr=m.ANCHOR_ERROR__REQUIRE_VIOLATED=qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=Vr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=Gr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=Br=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=Pr=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=Hr=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=Ur=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=Mr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=Dr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=Lr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=xr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=kr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=Sr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=br=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=Cr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=Ir=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=vr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=gr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=Tr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=Nr=m.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=wr=m.ANCHOR_ERROR__CONSTRAINT_SPACE=Ar=m.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=yr=m.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=Or=m.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=Er=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=mr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=Rr=m.ANCHOR_ERROR__CONSTRAINT_ZERO=pr=m.ANCHOR_ERROR__CONSTRAINT_ADDRESS=_r=m.ANCHOR_ERROR__CONSTRAINT_CLOSE=fr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=hr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=lr=m.ANCHOR_ERROR__CONSTRAINT_STATE=dr=m.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=ur=m.ANCHOR_ERROR__CONSTRAINT_SEEDS=cr=m.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=ar=m.ANCHOR_ERROR__CONSTRAINT_OWNER=sr=m.ANCHOR_ERROR__CONSTRAINT_RAW=or=m.ANCHOR_ERROR__CONSTRAINT_SIGNER=ir=m.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=rr=m.ANCHOR_ERROR__CONSTRAINT_MUT=nr=m.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=tr=m.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=er=m.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=Jn=m.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=Qn=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=Wn=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=Yn=m.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=Zn=m.ANCHOR_ERROR__INSTRUCTION_MISSING=void 0,Xn=m.ANCHOR_ERROR__DEPRECATED=pi=m.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=_i=m.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=fi=m.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=hi=m.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=li=m.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=di=m.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=ui=m.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=ci=m.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=ai=m.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=si=m.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=oi=m.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=ii=m.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=ri=m.ANCHOR_ERROR__INVALID_PROGRAM_ID=ni=m.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=ti=m.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=ei=m.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=Jr=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=Qr=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=Wr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=Yr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=Zr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=Xr=m.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=zr=m.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=Kr=m.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=jr=m.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=$r=m.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=void 0,Zn=m.ANCHOR_ERROR__INSTRUCTION_MISSING=100,Yn=m.ANCHOR_ERROR__INSTRUCTION_FALLBACK_NOT_FOUND=101,Wn=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_DESERIALIZE=102,Qn=m.ANCHOR_ERROR__INSTRUCTION_DID_NOT_SERIALIZE=103,Jn=m.ANCHOR_ERROR__IDL_INSTRUCTION_STUB=1e3,er=m.ANCHOR_ERROR__IDL_INSTRUCTION_INVALID_PROGRAM=1001,tr=m.ANCHOR_ERROR__IDL_ACCOUNT_NOT_EMPTY=1002,nr=m.ANCHOR_ERROR__EVENT_INSTRUCTION_STUB=1500,rr=m.ANCHOR_ERROR__CONSTRAINT_MUT=2e3,ir=m.ANCHOR_ERROR__CONSTRAINT_HAS_ONE=2001,or=m.ANCHOR_ERROR__CONSTRAINT_SIGNER=2002,sr=m.ANCHOR_ERROR__CONSTRAINT_RAW=2003,ar=m.ANCHOR_ERROR__CONSTRAINT_OWNER=2004,cr=m.ANCHOR_ERROR__CONSTRAINT_RENT_EXEMPT=2005,ur=m.ANCHOR_ERROR__CONSTRAINT_SEEDS=2006,dr=m.ANCHOR_ERROR__CONSTRAINT_EXECUTABLE=2007,lr=m.ANCHOR_ERROR__CONSTRAINT_STATE=2008,hr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED=2009,fr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_INIT=2010,_r=m.ANCHOR_ERROR__CONSTRAINT_CLOSE=2011,pr=m.ANCHOR_ERROR__CONSTRAINT_ADDRESS=2012,Rr=m.ANCHOR_ERROR__CONSTRAINT_ZERO=2013,mr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_MINT=2014,Er=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_OWNER=2015,Or=m.ANCHOR_ERROR__CONSTRAINT_MINT_MINT_AUTHORITY=2016,yr=m.ANCHOR_ERROR__CONSTRAINT_MINT_FREEZE_AUTHORITY=2017,Ar=m.ANCHOR_ERROR__CONSTRAINT_MINT_DECIMALS=2018,wr=m.ANCHOR_ERROR__CONSTRAINT_SPACE=2019,Nr=m.ANCHOR_ERROR__CONSTRAINT_ACCOUNT_IS_NONE=2020,Tr=m.ANCHOR_ERROR__CONSTRAINT_TOKEN_TOKEN_PROGRAM=2021,gr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TOKEN_PROGRAM=2022,vr=m.ANCHOR_ERROR__CONSTRAINT_ASSOCIATED_TOKEN_TOKEN_PROGRAM=2023,Ir=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION=2024,Cr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_AUTHORITY=2025,br=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_POINTER_EXTENSION_GROUP_ADDRESS=2026,Sr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION=2027,kr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_AUTHORITY=2028,xr=m.ANCHOR_ERROR__CONSTRAINT_MINT_GROUP_MEMBER_POINTER_EXTENSION_MEMBER_ADDRESS=2029,Lr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION=2030,Dr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_AUTHORITY=2031,Mr=m.ANCHOR_ERROR__CONSTRAINT_MINT_METADATA_POINTER_EXTENSION_METADATA_ADDRESS=2032,Ur=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION=2033,Hr=m.ANCHOR_ERROR__CONSTRAINT_MINT_CLOSE_AUTHORITY_EXTENSION_AUTHORITY=2034,Pr=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION=2035,Br=m.ANCHOR_ERROR__CONSTRAINT_MINT_PERMANENT_DELEGATE_EXTENSION_DELEGATE=2036,Gr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION=2037,Vr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_AUTHORITY=2038,qr=m.ANCHOR_ERROR__CONSTRAINT_MINT_TRANSFER_HOOK_EXTENSION_PROGRAM_ID=2039,Fr=m.ANCHOR_ERROR__REQUIRE_VIOLATED=2500;zn=m.ANCHOR_ERROR__REQUIRE_EQ_VIOLATED=2501;var $r=m.ANCHOR_ERROR__REQUIRE_KEYS_EQ_VIOLATED=2502,jr=m.ANCHOR_ERROR__REQUIRE_NEQ_VIOLATED=2503,Kr=m.ANCHOR_ERROR__REQUIRE_KEYS_NEQ_VIOLATED=2504,zr=m.ANCHOR_ERROR__REQUIRE_GT_VIOLATED=2505,Xr=m.ANCHOR_ERROR__REQUIRE_GTE_VIOLATED=2506,Zr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_ALREADY_SET=3e3,Yr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_NOT_FOUND=3001,Wr=m.ANCHOR_ERROR__ACCOUNT_DISCRIMINATOR_MISMATCH=3002,Qr=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_DESERIALIZE=3003,Jr=m.ANCHOR_ERROR__ACCOUNT_DID_NOT_SERIALIZE=3004,ei=m.ANCHOR_ERROR__ACCOUNT_NOT_ENOUGH_KEYS=3005,ti=m.ANCHOR_ERROR__ACCOUNT_NOT_MUTABLE=3006,ni=m.ANCHOR_ERROR__ACCOUNT_OWNED_BY_WRONG_PROGRAM=3007,ri=m.ANCHOR_ERROR__INVALID_PROGRAM_ID=3008,ii=m.ANCHOR_ERROR__INVALID_PROGRAM_EXECUTABLE=3009,oi=m.ANCHOR_ERROR__ACCOUNT_NOT_SIGNER=3010,si=m.ANCHOR_ERROR__ACCOUNT_NOT_SYSTEM_OWNED=3011,ai=m.ANCHOR_ERROR__ACCOUNT_NOT_INITIALIZED=3012,ci=m.ANCHOR_ERROR__ACCOUNT_NOT_PROGRAM_DATA=3013,ui=m.ANCHOR_ERROR__ACCOUNT_NOT_ASSOCIATED_TOKEN_ACCOUNT=3014,di=m.ANCHOR_ERROR__ACCOUNT_SYSVAR_MISMATCH=3015,li=m.ANCHOR_ERROR__ACCOUNT_REALLOC_EXCEEDS_LIMIT=3016,hi=m.ANCHOR_ERROR__ACCOUNT_DUPLICATE_REALLOCS=3017,fi=m.ANCHOR_ERROR__DECLARED_PROGRAM_ID_MISMATCH=4100,_i=m.ANCHOR_ERROR__TRYING_TO_INIT_PAYER_AS_PROGRAM_ACCOUNT=4101,pi=m.ANCHOR_ERROR__INVALID_NUMERIC_CONVERSION=4102;Xn=m.ANCHOR_ERROR__DEPRECATED=5e3;const Ls=new Map;function Ri(r){return Ls.get(r)!==void 0}class de extends Error{constructor(t){super(t),this.name="IdlError"}}class Be{constructor(t){this.stack=t}static parse(t){var e;const n=/^Program (\w*) invoke/,i=/^Program \w* success/,o=[];for(let u=0;u<t.length;u++){if(i.exec(t[u])){o.pop();continue}const c=(e=n.exec(t[u]))===null||e===void 0?void 0:e[1];c&&o.push(new W(c))}return new Be(o)}}class Se extends Error{constructor(t,e,n,i,o,u){super(n.join(`
`).replace("Program log: ","")),this.errorLogs=n,this.logs=i,this.error={errorCode:t,errorMessage:e,comparedValues:u,origin:o},this._programErrorStack=Be.parse(i)}static parse(t){if(!t)return null;const e=t.findIndex(E=>E.startsWith("Program log: AnchorError"));if(e===-1)return null;const n=t[e],i=[n];let o;if(e+1<t.length){if(t[e+1]==="Program log: Left:"){const E=/^Program log: (.*)$/,p=E.exec(t[e+2])[1],O=E.exec(t[e+4])[1];o=[new W(p),new W(O)],i.push(...t.slice(e+1,e+5))}else if(t[e+1].startsWith("Program log: Left:")){const E=/^Program log: (Left|Right): (.*)$/,p=E.exec(t[e+1])[2],O=E.exec(t[e+2])[2];i.push(...t.slice(e+1,e+3)),o=[p,O]}}const c=/^Program log: AnchorError occurred\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),d=/^Program log: AnchorError thrown in (.*):(\d*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n),A=/^Program log: AnchorError caused by account: (.*)\. Error Code: (.*)\. Error Number: (\d*)\. Error Message: (.*)\./.exec(n);if(c){const[E,p,O]=c.slice(1,4),b={code:E,number:parseInt(p)};return new Se(b,O,i,t,void 0,o)}else if(d){const[E,p,O,b,w]=d.slice(1,6),T={code:O,number:parseInt(b)},D={file:E,line:parseInt(p)};return new Se(T,w,i,t,D,o)}else if(A){const[E,p,O,b]=A.slice(1,5),w=E,T={code:p,number:parseInt(O)};return new Se(T,b,i,t,w,o)}else return null}get program(){return this._programErrorStack.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){return this._programErrorStack.stack}toString(){return this.message}}class We extends Error{constructor(t,e,n){super(),this.code=t,this.msg=e,this.logs=n,n&&(this._programErrorStack=Be.parse(n))}static parse(t,e){const n=t.toString();let i;if(n.includes("custom program error:")){let c=n.split("custom program error: ");if(c.length!==2)return null;i=c[1]}else{const c=n.match(/"Custom":([0-9]+)}/g);if(!c||c.length>1)return null;i=c[0].match(/([0-9]+)/g)[0]}let o;try{o=parseInt(i)}catch{return null}let u=e.get(o);return u!==void 0?new We(o,u,t.logs):(u=Ds.get(o),u!==void 0?new We(o,u,t.logs):null)}get program(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack[this._programErrorStack.stack.length-1]}get programErrorStack(){var t;return(t=this._programErrorStack)===null||t===void 0?void 0:t.stack}toString(){return this.msg}}function mi(r,t){Ri("debug-logs")&&console.log("Translating error:",r);const e=Se.parse(r.logs);if(e)return e;const n=We.parse(r,t);if(n)return n;if(r.logs){const i={get:function(o,u){return u==="programErrorStack"?o.programErrorStack.stack:u==="program"?o.programErrorStack.stack[r.programErrorStack.stack.length-1]:Reflect.get(...arguments)}};return r.programErrorStack=Be.parse(r.logs),new Proxy(r,i)}return r}const C={InstructionMissing:Zn,InstructionFallbackNotFound:Yn,InstructionDidNotDeserialize:Wn,InstructionDidNotSerialize:Qn,IdlInstructionStub:Jn,IdlInstructionInvalidProgram:er,IdlAccountNotEmpty:tr,EventInstructionStub:nr,ConstraintMut:rr,ConstraintHasOne:ir,ConstraintSigner:or,ConstraintRaw:sr,ConstraintOwner:ar,ConstraintRentExempt:cr,ConstraintSeeds:ur,ConstraintExecutable:dr,ConstraintState:lr,ConstraintAssociated:hr,ConstraintAssociatedInit:fr,ConstraintClose:_r,ConstraintAddress:pr,ConstraintZero:Rr,ConstraintTokenMint:mr,ConstraintTokenOwner:Er,ConstraintMintMintAuthority:Or,ConstraintMintFreezeAuthority:yr,ConstraintMintDecimals:Ar,ConstraintSpace:wr,ConstraintAccountIsNone:Nr,ConstraintTokenTokenProgram:Tr,ConstraintMintTokenProgram:gr,ConstraintAssociatedTokenTokenProgram:vr,ConstraintMintGroupPointerExtension:Ir,ConstraintMintGroupPointerExtensionAuthority:Cr,ConstraintMintGroupPointerExtensionGroupAddress:br,ConstraintMintGroupMemberPointerExtension:Sr,ConstraintMintGroupMemberPointerExtensionAuthority:kr,ConstraintMintGroupMemberPointerExtensionMemberAddress:xr,ConstraintMintMetadataPointerExtension:Lr,ConstraintMintMetadataPointerExtensionAuthority:Dr,ConstraintMintMetadataPointerExtensionMetadataAddress:Mr,ConstraintMintCloseAuthorityExtension:Ur,ConstraintMintCloseAuthorityExtensionAuthority:Hr,ConstraintMintPermanentDelegateExtension:Pr,ConstraintMintPermanentDelegateExtensionDelegate:Br,ConstraintMintTransferHookExtension:Gr,ConstraintMintTransferHookExtensionAuthority:Vr,ConstraintMintTransferHookExtensionProgramId:qr,RequireViolated:Fr,RequireEqViolated:zn,RequireKeysEqViolated:$r,RequireNeqViolated:jr,RequireKeysNeqViolated:Kr,RequireGtViolated:zr,RequireGteViolated:Xr,AccountDiscriminatorAlreadySet:Zr,AccountDiscriminatorNotFound:Yr,AccountDiscriminatorMismatch:Wr,AccountDidNotDeserialize:Qr,AccountDidNotSerialize:Jr,AccountNotEnoughKeys:ei,AccountNotMutable:ti,AccountOwnedByWrongProgram:ni,InvalidProgramId:ri,InvalidProgramExecutable:ii,AccountNotSigner:oi,AccountNotSystemOwned:si,AccountNotInitialized:ai,AccountNotProgramData:ci,AccountNotAssociatedTokenAccount:ui,AccountSysvarMismatch:di,AccountReallocExceedsLimit:li,AccountDuplicateReallocs:hi,DeclaredProgramIdMismatch:fi,TryingToInitPayerAsProgramAccount:_i,InvalidNumericConversion:pi,Deprecated:Xn},Ds=new Map([[C.InstructionMissing,"Instruction discriminator not provided"],[C.InstructionFallbackNotFound,"Fallback functions are not supported"],[C.InstructionDidNotDeserialize,"The program could not deserialize the given instruction"],[C.InstructionDidNotSerialize,"The program could not serialize the given instruction"],[C.IdlInstructionStub,"The program was compiled without idl instructions"],[C.IdlInstructionInvalidProgram,"The transaction was given an invalid program for the IDL instruction"],[C.IdlAccountNotEmpty,"IDL account must be empty in order to resize, try closing first"],[C.EventInstructionStub,"The program was compiled without `event-cpi` feature"],[C.ConstraintMut,"A mut constraint was violated"],[C.ConstraintHasOne,"A has one constraint was violated"],[C.ConstraintSigner,"A signer constraint was violated"],[C.ConstraintRaw,"A raw constraint was violated"],[C.ConstraintOwner,"An owner constraint was violated"],[C.ConstraintRentExempt,"A rent exemption constraint was violated"],[C.ConstraintSeeds,"A seeds constraint was violated"],[C.ConstraintExecutable,"An executable constraint was violated"],[C.ConstraintState,"Deprecated Error, feel free to replace with something else"],[C.ConstraintAssociated,"An associated constraint was violated"],[C.ConstraintAssociatedInit,"An associated init constraint was violated"],[C.ConstraintClose,"A close constraint was violated"],[C.ConstraintAddress,"An address constraint was violated"],[C.ConstraintZero,"Expected zero account discriminant"],[C.ConstraintTokenMint,"A token mint constraint was violated"],[C.ConstraintTokenOwner,"A token owner constraint was violated"],[C.ConstraintMintMintAuthority,"A mint mint authority constraint was violated"],[C.ConstraintMintFreezeAuthority,"A mint freeze authority constraint was violated"],[C.ConstraintMintDecimals,"A mint decimals constraint was violated"],[C.ConstraintSpace,"A space constraint was violated"],[C.ConstraintAccountIsNone,"A required account for the constraint is None"],[C.ConstraintTokenTokenProgram,"A token account token program constraint was violated"],[C.ConstraintMintTokenProgram,"A mint token program constraint was violated"],[C.ConstraintAssociatedTokenTokenProgram,"An associated token account token program constraint was violated"],[C.ConstraintMintGroupPointerExtension,"A group pointer extension constraint was violated"],[C.ConstraintMintGroupPointerExtensionAuthority,"A group pointer extension authority constraint was violated"],[C.ConstraintMintGroupPointerExtensionGroupAddress,"A group pointer extension group address constraint was violated"],[C.ConstraintMintGroupMemberPointerExtension,"A group member pointer extension constraint was violated"],[C.ConstraintMintGroupMemberPointerExtensionAuthority,"A group member pointer extension authority constraint was violated"],[C.ConstraintMintGroupMemberPointerExtensionMemberAddress,"A group member pointer extension group address constraint was violated"],[C.ConstraintMintMetadataPointerExtension,"A metadata pointer extension constraint was violated"],[C.ConstraintMintMetadataPointerExtensionAuthority,"A metadata pointer extension authority constraint was violated"],[C.ConstraintMintMetadataPointerExtensionMetadataAddress,"A metadata pointer extension metadata address constraint was violated"],[C.ConstraintMintCloseAuthorityExtension,"A close authority constraint was violated"],[C.ConstraintMintCloseAuthorityExtensionAuthority,"A close authority extension authority constraint was violated"],[C.ConstraintMintPermanentDelegateExtension,"A permanent delegate extension constraint was violated"],[C.ConstraintMintPermanentDelegateExtensionDelegate,"A permanent delegate extension delegate constraint was violated"],[C.ConstraintMintTransferHookExtension,"A transfer hook extension constraint was violated"],[C.ConstraintMintTransferHookExtensionAuthority,"A transfer hook extension authority constraint was violated"],[C.ConstraintMintTransferHookExtensionProgramId,"A transfer hook extension transfer hook program id constraint was violated"],[C.RequireViolated,"A require expression was violated"],[C.RequireEqViolated,"A require_eq expression was violated"],[C.RequireKeysEqViolated,"A require_keys_eq expression was violated"],[C.RequireNeqViolated,"A require_neq expression was violated"],[C.RequireKeysNeqViolated,"A require_keys_neq expression was violated"],[C.RequireGtViolated,"A require_gt expression was violated"],[C.RequireGteViolated,"A require_gte expression was violated"],[C.AccountDiscriminatorAlreadySet,"The account discriminator was already set on this account"],[C.AccountDiscriminatorNotFound,"No discriminator was found on the account"],[C.AccountDiscriminatorMismatch,"Account discriminator did not match what was expected"],[C.AccountDidNotDeserialize,"Failed to deserialize the account"],[C.AccountDidNotSerialize,"Failed to serialize the account"],[C.AccountNotEnoughKeys,"Not enough account keys given to the instruction"],[C.AccountNotMutable,"The given account is not mutable"],[C.AccountOwnedByWrongProgram,"The given account is owned by a different program than expected"],[C.InvalidProgramId,"Program ID was not as expected"],[C.InvalidProgramExecutable,"Program account is not executable"],[C.AccountNotSigner,"The given account did not sign"],[C.AccountNotSystemOwned,"The given account is not owned by the system program"],[C.AccountNotInitialized,"The program expected this account to be already initialized"],[C.AccountNotProgramData,"The given account is not a program data account"],[C.AccountNotAssociatedTokenAccount,"The given account is not the associated token account"],[C.AccountSysvarMismatch,"The given public key does not match the required sysvar"],[C.AccountReallocExceedsLimit,"The account reallocation exceeds the MAX_PERMITTED_DATA_INCREASE limit"],[C.AccountDuplicateReallocs,"The account was duplicated for more than one reallocation"],[C.DeclaredProgramIdMismatch,"The declared program id does not match the actual program id"],[C.TryingToInitPayerAsProgramAccount,"You cannot/should not initialize the payer account as a program account"],[C.InvalidNumericConversion,"The program could not perform the numeric conversion, out of range integral type conversion attempted"],[C.Deprecated,"The API being used is deprecated and should no longer be used"]]);class q{static fieldLayout(t,e=[],n){const i=t.name;switch(t.type){case"bool":return V.bool(i);case"u8":return V.u8(i);case"i8":return V.i8(i);case"u16":return V.u16(i);case"i16":return V.i16(i);case"u32":return V.u32(i);case"i32":return V.i32(i);case"f32":return V.f32(i);case"u64":return V.u64(i);case"i64":return V.i64(i);case"f64":return V.f64(i);case"u128":return V.u128(i);case"i128":return V.i128(i);case"u256":return V.u256(i);case"i256":return V.i256(i);case"bytes":return V.vecU8(i);case"string":return V.str(i);case"pubkey":return V.publicKey(i);default:{if("option"in t.type)return V.option(q.fieldLayout({type:t.type.option},e,n),i);if("vec"in t.type)return V.vec(q.fieldLayout({type:t.type.vec},e,n),i);if("array"in t.type){let[o,u]=t.type.array;return u=q.resolveArrayLen(u,n),V.array(q.fieldLayout({type:o},e,n),u,i)}if("defined"in t.type){if(!e)throw new de("User defined types not provided");const o=t.type.defined.name,u=e.find(c=>c.name===o);if(!u)throw new de(`Type not found: ${t.name}`);return q.typeDefLayout({typeDef:u,types:e,genericArgs:n??t.type.defined.generics,name:i})}if("generic"in t.type){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new de(`Invalid generic field: ${t.name}`);return q.fieldLayout({...t,type:o.type},e)}throw new de(`Not yet implemented: ${JSON.stringify(t.type)}`)}}}static typeDefLayout({typeDef:t,types:e,name:n,genericArgs:i}){switch(t.type.kind){case"struct":{const o=we(t.type.fields,()=>[],u=>u.map(c=>{const f=i&&q.resolveGenericArgs({type:c.type,typeDef:t,genericArgs:i});return q.fieldLayout(c,e,f)}),u=>u.map((c,f)=>{const d=i&&q.resolveGenericArgs({type:c,typeDef:t,genericArgs:i});return q.fieldLayout({name:f.toString(),type:c},e,d)}));return V.struct(o,n)}case"enum":{const o=t.type.variants.map(u=>{const c=we(u.fields,()=>[],f=>f.map(d=>{const l=i&&q.resolveGenericArgs({type:d.type,typeDef:t,genericArgs:i});return q.fieldLayout(d,e,l)}),f=>f.map((d,l)=>{const A=i&&q.resolveGenericArgs({type:d,typeDef:t,genericArgs:i});return q.fieldLayout({name:l.toString(),type:d},e,A)}));return V.struct(c,u.name)});return n!==void 0?V.rustEnum(o).replicate(n):V.rustEnum(o,n)}case"type":return q.fieldLayout({type:t.type.alias,name:n},e)}}static typeSize(t,e,n){var i;switch(t){case"bool":return 1;case"u8":return 1;case"i8":return 1;case"i16":return 2;case"u16":return 2;case"u32":return 4;case"i32":return 4;case"f32":return 4;case"u64":return 8;case"i64":return 8;case"f64":return 8;case"u128":return 16;case"i128":return 16;case"u256":return 32;case"i256":return 32;case"bytes":return 1;case"string":return 1;case"pubkey":return 32;default:if("option"in t)return 1+q.typeSize(t.option,e,n);if("coption"in t)return 4+q.typeSize(t.coption,e,n);if("vec"in t)return 1;if("array"in t){let[o,u]=t.array;return u=q.resolveArrayLen(u,n),q.typeSize(o,e,n)*u}if("defined"in t){const o=(i=e.types)===null||i===void 0?void 0:i.find(c=>c.name===t.defined.name);if(!o)throw new de(`Type not found: ${JSON.stringify(t)}`);const u=c=>{const f=n??t.defined.generics,d=f&&q.resolveGenericArgs({type:c,typeDef:o,genericArgs:f});return q.typeSize(c,e,d)};switch(o.type.kind){case"struct":return we(o.type.fields,()=>[0],c=>c.map(f=>u(f.type)),c=>c.map(f=>u(f))).reduce((c,f)=>c+f,0);case"enum":{const c=o.type.variants.map(f=>we(f.fields,()=>[0],d=>d.map(l=>u(l.type)),d=>d.map(l=>u(l))).reduce((d,l)=>d+l,0));return Math.max(...c)+1}case"type":return q.typeSize(o.type.alias,e,n)}}if("generic"in t){const o=n==null?void 0:n.at(0);if((o==null?void 0:o.kind)!=="type")throw new de(`Invalid generic: ${t.generic}`);return q.typeSize(o.type,e,n)}throw new Error(`Invalid type ${JSON.stringify(t)}`)}}static resolveArrayLen(t,e){if(typeof t=="number")return t;if(e){const n=e.find(i=>i.kind==="const");(n==null?void 0:n.kind)==="const"&&(t=+n.value)}if(typeof t!="number")throw new de("Generic array length did not resolve");return t}static resolveGenericArgs({type:t,typeDef:e,genericArgs:n,isDefined:i}){if(typeof t!="object")return null;for(const o in e.generics){const u=e.generics[o];if("generic"in t&&u.name===t.generic)return[n[o]];if("option"in t){const c=q.resolveGenericArgs({type:t.option,typeDef:e,genericArgs:n,isDefined:i});if(!c||!i)return c;if(c[0].kind==="type")return[{kind:"type",type:{option:c[0].type}}]}if("vec"in t){const c=q.resolveGenericArgs({type:t.vec,typeDef:e,genericArgs:n,isDefined:i});if(!c||!i)return c;if(c[0].kind==="type")return[{kind:"type",type:{vec:c[0].type}}]}if("array"in t){const[c,f]=t.array,d=typeof f=="object",l=q.resolveGenericArgs({type:c,typeDef:e,genericArgs:n,isDefined:i})||[];if(d){const A=e.generics.findIndex(E=>E.name===f.generic);A!==-1&&l.push(n[A])}if(l.length>0){if(!i)return l;if(l[0].kind==="type"&&l[1].kind==="const")return[{kind:"type",type:{array:[l[0].type,+l[1].value]}}]}if(d&&u.name===f.generic){const A=n[o];return i?[{kind:"type",type:{array:[c,+A.value]}}]:[A]}return null}if("defined"in t)return t.defined.generics?t.defined.generics.flatMap(c=>{switch(c.kind){case"type":return q.resolveGenericArgs({type:c.type,typeDef:e,genericArgs:n,isDefined:!0});case"const":return[c]}}).filter(c=>c!==null):null}return null}}class Ms{constructor(t){this.idl=t;const e=t.instructions.map(n=>{const i=n.name,o=n.args.map(c=>q.fieldLayout(c,t.types)),u=V.struct(o,i);return[i,{discriminator:n.discriminator,layout:u}]});this.ixLayouts=new Map(e)}encode(t,e){const n=ee.alloc(1e3),i=this.ixLayouts.get(t);if(!i)throw new Error(`Unknown method: ${t}`);const o=i.layout.encode(e,n),u=n.slice(0,o);return ee.concat([ee.from(i.discriminator),u])}decode(t,e="hex"){typeof t=="string"&&(t=e==="hex"?ee.from(t,"hex"):vt.decode(t));for(const[n,i]of this.ixLayouts){const o=t.subarray(0,i.discriminator.length);if(o.equals(ee.from(i.discriminator)))return{name:n,data:i.layout.decode(t.subarray(o.length))}}return null}format(t,e){return J.format(t,e,this.idl)}}class J{static format(t,e,n){const i=n.instructions.find(f=>t.name===f.name);if(!i)return console.error("Invalid instruction given"),null;const o=i.args.map(f=>({name:f.name,type:J.formatIdlType(f.type),data:J.formatIdlData(f,t.data[f.name],n.types)})),u=J.flattenIdlAccounts(i.accounts),c=e.map((f,d)=>d<u.length?{name:u[d].name,...f}:{name:void 0,...f});return{args:o,accounts:c}}static formatIdlType(t){if(typeof t=="string")return t;if("option"in t)return`Option<${this.formatIdlType(t.option)}>`;if("coption"in t)return`COption<${this.formatIdlType(t.coption)}>`;if("vec"in t)return`Vec<${this.formatIdlType(t.vec)}>`;if("array"in t)return`Array<${t.array[0]}; ${t.array[1]}>`;if("defined"in t){const e=t.defined.name;if(t.defined.generics){const n=t.defined.generics.map(i=>{switch(i.kind){case"type":return J.formatIdlType(i.type);case"const":return i.value}}).join(", ");return`${e}<${n}>`}return e}throw new Error(`Unknown IDL type: ${t}`)}static formatIdlData(t,e,n){if(typeof t.type=="string")return e.toString();if("vec"in t.type)return"["+e.map(i=>this.formatIdlData({name:"",type:t.type.vec},i,n)).join(", ")+"]";if("option"in t.type)return e===null?"null":this.formatIdlData({name:"",type:t.type.option},e,n);if("defined"in t.type){if(!n)throw new Error("User defined types not provided");const i=t.type.defined.name,o=n.find(u=>u.name===i);if(!o)throw new Error(`Type not found: ${i}`);return J.formatIdlDataDefined(o,e,n)}return"unknown"}static formatIdlDataDefined(t,e,n){switch(t.type.kind){case"struct":return"{ "+we(t.type.fields,()=>"",i=>Object.entries(e).map(([o,u])=>{const c=i.find(f=>f.name===o);if(!c)throw new Error(`Field not found: ${o}`);return o+": "+J.formatIdlData(c,u,n)}).join(", "),i=>Object.entries(e).map(([o,u])=>o+": "+J.formatIdlData({name:"",type:i[o]},u,n)).join(", "))+" }";case"enum":{const i=Object.keys(e)[0],o=t.type.variants.find(c=>c.name===i);if(!o)throw new Error(`Unable to find variant: ${i}`);const u=e[i];return we(o.fields,()=>i,c=>{const f=Object.keys(u).map(d=>{const l=u[d],A=c.find(E=>E.name===d);if(!A)throw new Error(`Field not found: ${d}`);return d+": "+J.formatIdlData(A,l,n)}).join(", ");return`${i} { ${f} }`},c=>{const f=Object.entries(u).map(([d,l])=>d+": "+J.formatIdlData({name:"",type:c[d]},l,n)).join(", ");return`${i} { ${f} }`})}case"type":return J.formatIdlType(t.type.alias)}}static flattenIdlAccounts(t,e){return t.map(n=>{const i=Us(n.name);if(n.hasOwnProperty("accounts")){const o=e?`${e} > ${i}`:i;return J.flattenIdlAccounts(n.accounts,o)}else return{...n,name:e?`${e} > ${i}`:i}}).flat()}}function Us(r){const t=r.replace(/([A-Z])/g," $1");return t.charAt(0).toUpperCase()+t.slice(1)}class Hs{constructor(t){if(this.idl=t,!t.accounts){this.accountLayouts=new Map;return}const e=t.types;if(!e)throw new Error("Accounts require `idl.types`");const n=t.accounts.map(i=>{const o=e.find(u=>u.name===i.name);if(!o)throw new Error(`Account not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:q.typeDefLayout({typeDef:o,types:e})}]});this.accountLayouts=new Map(n)}async encode(t,e){const n=ee.alloc(1e3),i=this.accountLayouts.get(t);if(!i)throw new Error(`Unknown account: ${t}`);const o=i.layout.encode(e,n),u=n.slice(0,o),c=this.accountDiscriminator(t);return ee.concat([c,u])}decode(t,e){const n=this.accountDiscriminator(t);if(n.compare(e.slice(0,n.length)))throw new Error("Invalid account discriminator");return this.decodeUnchecked(t,e)}decodeAny(t){for(const[e,n]of this.accountLayouts)if(t.subarray(0,n.discriminator.length).equals(ee.from(n.discriminator)))return this.decodeUnchecked(e,t);throw new Error("Account not found")}decodeUnchecked(t,e){const n=this.accountDiscriminator(t),i=e.subarray(n.length),o=this.accountLayouts.get(t);if(!o)throw new Error(`Unknown account: ${t}`);return o.layout.decode(i)}memcmp(t,e){const n=this.accountDiscriminator(t);return{offset:0,bytes:vt.encode(e?ee.concat([n,e]):n)}}size(t){return this.accountDiscriminator(t).length+q.typeSize({defined:{name:t}},this.idl)}accountDiscriminator(t){var e;const n=(e=this.idl.accounts)===null||e===void 0?void 0:e.find(i=>i.name===t);if(!n)throw new Error(`Account not found: ${t}`);return ee.from(n.discriminator)}}class Ps{constructor(t){if(!t.events){this.layouts=new Map;return}const e=t.types;if(!e)throw new Error("Events require `idl.types`");const n=t.events.map(i=>{const o=e.find(u=>u.name===i.name);if(!o)throw new Error(`Event not found: ${i.name}`);return[i.name,{discriminator:i.discriminator,layout:q.typeDefLayout({typeDef:o,types:e})}]});this.layouts=new Map(n)}decode(t){let e;try{e=qn(t)}catch{return null}for(const[n,i]of this.layouts){const o=e.subarray(0,i.discriminator.length);if(o.equals(ee.from(i.discriminator)))return{name:n,data:i.layout.decode(e.subarray(o.length))}}return null}}class Bs{constructor(t){const e=t.types;if(!e){this.typeLayouts=new Map;return}const n=e.filter(i=>!i.generics).map(i=>[i.name,q.typeDefLayout({typeDef:i,types:e})]);this.typeLayouts=new Map(n)}encode(t,e){const n=ee.alloc(1e3),i=this.typeLayouts.get(t);if(!i)throw new Error(`Unknown type: ${t}`);const o=i.encode(e,n);return n.slice(0,o)}decode(t,e){const n=this.typeLayouts.get(t);if(!n)throw new Error(`Unknown type: ${t}`);return n.decode(e)}}class Ei{constructor(t){this.instruction=new Ms(t),this.accounts=new Hs(t),this.events=new Ps(t),this.types=new Bs(t)}}class Q{constructor(t,e){if(!Number.isInteger(t))throw new TypeError("span must be an integer");this.span=t,this.property=e}makeDestinationObject(){return{}}decode(t,e){throw new Error("Layout is abstract")}encode(t,e,n){throw new Error("Layout is abstract")}getSpan(t,e){if(0>this.span)throw new RangeError("indeterminate span");return this.span}replicate(t){const e=Object.create(this.constructor.prototype);return Object.assign(e,this),e.property=t,e}fromArray(t){}}var nt=Q;function Gs(r,t){return t.property?r+"["+t.property+"]":r}class Ee extends Q{isCount(){throw new Error("ExternalLayout is abstract")}}class Oi extends Ee{constructor(t,e,n){if(!(t instanceof Q))throw new TypeError("layout must be a Layout");if(e===void 0)e=0;else if(!Number.isInteger(e))throw new TypeError("offset must be integer or undefined");super(t.span,n||t.property),this.layout=t,this.offset=e}isCount(){return this.layout instanceof rt||this.layout instanceof yi}decode(t,e){return e===void 0&&(e=0),this.layout.decode(t,e+this.offset)}encode(t,e,n){return n===void 0&&(n=0),this.layout.encode(t,e,n+this.offset)}}class rt extends Q{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntLE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntLE(t,n,this.span),this.span}}class yi extends Q{constructor(t,e){if(super(t,e),6<this.span)throw new RangeError("span must not exceed 6 bytes")}decode(t,e){return e===void 0&&(e=0),t.readUIntBE(e,this.span)}encode(t,e,n){return n===void 0&&(n=0),e.writeUIntBE(t,n,this.span),this.span}}const Tt=Math.pow(2,32);function Ai(r){const t=Math.floor(r/Tt),e=r-t*Tt;return{hi32:t,lo32:e}}function wi(r,t){return r*Tt+t}class Vs extends Q{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),i=t.readUInt32LE(e+4);return wi(i,n)}encode(t,e,n){n===void 0&&(n=0);const i=Ai(t);return e.writeUInt32LE(i.lo32,n),e.writeUInt32LE(i.hi32,n+4),8}}class qs extends Q{constructor(t){super(8,t)}decode(t,e){e===void 0&&(e=0);const n=t.readUInt32LE(e),i=t.readInt32LE(e+4);return wi(i,n)}encode(t,e,n){n===void 0&&(n=0);const i=Ai(t);return e.writeUInt32LE(i.lo32,n),e.writeInt32LE(i.hi32,n+4),8}}class Fs extends Q{constructor(t,e,n){if(!(Array.isArray(t)&&t.reduce((o,u)=>o&&u instanceof Q,!0)))throw new TypeError("fields must be array of Layout instances");typeof e=="boolean"&&n===void 0&&(n=e,e=void 0);for(const o of t)if(0>o.span&&o.property===void 0)throw new Error("fields cannot contain unnamed variable-length layout");let i=-1;try{i=t.reduce((o,u)=>o+u.getSpan(),0)}catch{}super(i,e),this.fields=t,this.decodePrefixes=!!n}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;try{n=this.fields.reduce((i,o)=>{const u=o.getSpan(t,e);return e+=u,i+u},0)}catch{throw new RangeError("indeterminate span")}return n}decode(t,e){e===void 0&&(e=0);const n=this.makeDestinationObject();for(const i of this.fields)if(i.property!==void 0&&(n[i.property]=i.decode(t,e)),e+=i.getSpan(t,e),this.decodePrefixes&&t.length===e)break;return n}encode(t,e,n){n===void 0&&(n=0);const i=n;let o=0,u=0;for(const c of this.fields){let f=c.span;if(u=0<f?f:0,c.property!==void 0){const d=t[c.property];d!==void 0&&(u=c.encode(d,e,n),0>f&&(f=c.getSpan(e,n)))}o=n,n+=f}return o+u-i}fromArray(t){const e=this.makeDestinationObject();for(const n of this.fields)n.property!==void 0&&0<t.length&&(e[n.property]=t.shift());return e}layoutFor(t){if(typeof t!="string")throw new TypeError("property must be string");for(const e of this.fields)if(e.property===t)return e}offsetOf(t){if(typeof t!="string")throw new TypeError("property must be string");let e=0;for(const n of this.fields){if(n.property===t)return e;0>n.span?e=-1:0<=e&&(e+=n.span)}}}class Ni{constructor(t){this.property=t}decode(){throw new Error("UnionDiscriminator is abstract")}encode(){throw new Error("UnionDiscriminator is abstract")}}class An extends Ni{constructor(t,e){if(!(t instanceof Ee&&t.isCount()))throw new TypeError("layout must be an unsigned integer ExternalLayout");super(e||t.property||"variant"),this.layout=t}decode(t,e){return this.layout.decode(t,e)}encode(t,e,n){return this.layout.encode(t,e,n)}}class Ti extends Q{constructor(t,e,n){const i=t instanceof rt||t instanceof yi;if(i)t=new An(new Oi(t));else if(t instanceof Ee&&t.isCount())t=new An(t);else if(!(t instanceof Ni))throw new TypeError("discr must be a UnionDiscriminator or an unsigned integer layout");if(e===void 0&&(e=null),!(e===null||e instanceof Q))throw new TypeError("defaultLayout must be null or a Layout");if(e!==null){if(0>e.span)throw new Error("defaultLayout must have constant span");e.property===void 0&&(e=e.replicate("content"))}let o=-1;e&&(o=e.span,0<=o&&i&&(o+=t.layout.span)),super(o,n),this.discriminator=t,this.usesPrefixDiscriminator=i,this.defaultLayout=e,this.registry={};let u=this.defaultGetSourceVariant.bind(this);this.getSourceVariant=function(c){return u(c)},this.configGetSourceVariant=function(c){u=c.bind(this)}}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);const n=this.getVariant(t,e);if(!n)throw new Error("unable to determine span for unrecognized variant");return n.getSpan(t,e)}defaultGetSourceVariant(t){if(t.hasOwnProperty(this.discriminator.property)){if(this.defaultLayout&&t.hasOwnProperty(this.defaultLayout.property))return;const e=this.registry[t[this.discriminator.property]];if(e&&(!e.layout||t.hasOwnProperty(e.property)))return e}else for(const e in this.registry){const n=this.registry[e];if(t.hasOwnProperty(n.property))return n}throw new Error("unable to infer src variant")}decode(t,e){e===void 0&&(e=0);let n;const i=this.discriminator,o=i.decode(t,e);let u=this.registry[o];if(u===void 0){let c=0;u=this.defaultLayout,this.usesPrefixDiscriminator&&(c=i.layout.span),n=this.makeDestinationObject(),n[i.property]=o,n[u.property]=this.defaultLayout.decode(t,e+c)}else n=u.decode(t,e);return n}encode(t,e,n){n===void 0&&(n=0);const i=this.getSourceVariant(t);if(i===void 0){const o=this.discriminator,u=this.defaultLayout;let c=0;return this.usesPrefixDiscriminator&&(c=o.layout.span),o.encode(t[o.property],e,n),c+u.encode(t[u.property],e,n+c)}return i.encode(t,e,n)}addVariant(t,e,n){const i=new $s(this,t,e,n);return this.registry[t]=i,i}getVariant(t,e){let n=t;return z.isBuffer(t)&&(e===void 0&&(e=0),n=this.discriminator.decode(t,e)),this.registry[n]}}class $s extends Q{constructor(t,e,n,i){if(!(t instanceof Ti))throw new TypeError("union must be a Union");if(!Number.isInteger(e)||0>e)throw new TypeError("variant must be a (non-negative) integer");if(typeof n=="string"&&i===void 0&&(i=n,n=null),n){if(!(n instanceof Q))throw new TypeError("layout must be a Layout");if(t.defaultLayout!==null&&0<=n.span&&n.span>t.defaultLayout.span)throw new Error("variant span exceeds span of containing union");if(typeof i!="string")throw new TypeError("variant must have a String property")}let o=t.span;0>t.span&&(o=n?n.span:0,0<=o&&t.usesPrefixDiscriminator&&(o+=t.discriminator.layout.span)),super(o,i),this.union=t,this.variant=e,this.layout=n||null}getSpan(t,e){if(0<=this.span)return this.span;e===void 0&&(e=0);let n=0;return this.union.usesPrefixDiscriminator&&(n=this.union.discriminator.layout.span),n+this.layout.getSpan(t,e+n)}decode(t,e){const n=this.makeDestinationObject();if(e===void 0&&(e=0),this!==this.union.getVariant(t,e))throw new Error("variant mismatch");let i=0;return this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout?n[this.property]=this.layout.decode(t,e+i):this.property?n[this.property]=!0:this.union.usesPrefixDiscriminator&&(n[this.union.discriminator.property]=this.variant),n}encode(t,e,n){n===void 0&&(n=0);let i=0;if(this.union.usesPrefixDiscriminator&&(i=this.union.discriminator.layout.span),this.layout&&!t.hasOwnProperty(this.property))throw new TypeError("variant lacks property "+this.property);this.union.discriminator.encode(this.variant,e,n);let o=i;if(this.layout&&(this.layout.encode(t[this.property],e,n+i),o+=this.layout.getSpan(e,n+i),0<=this.union.span&&o>this.union.span))throw new Error("encoded variant overruns containing union");return o}fromArray(t){if(this.layout)return this.layout.fromArray(t)}}class js extends Q{constructor(t,e){if(!(t instanceof Ee&&t.isCount()||Number.isInteger(t)&&0<=t))throw new TypeError("length must be positive integer or an unsigned integer ExternalLayout");let n=-1;t instanceof Ee||(n=t),super(n,e),this.length=t}getSpan(t,e){let n=this.span;return 0>n&&(n=this.length.decode(t,e)),n}decode(t,e){e===void 0&&(e=0);let n=this.span;return 0>n&&(n=this.length.decode(t,e)),t.slice(e,e+n)}encode(t,e,n){let i=this.length;if(this.length instanceof Ee&&(i=t.length),!(z.isBuffer(t)&&i===t.length))throw new TypeError(Gs("Blob.encode",this)+" requires (length "+i+") Buffer as src");if(n+i>e.length)throw new RangeError("encoding overruns Buffer");return e.write(t.toString("hex"),n,i,"hex"),this.length instanceof Ee&&this.length.encode(i,e,n),i}}var Ks=(r,t,e)=>new Oi(r,t,e),zs=r=>new rt(1,r),ce=r=>new rt(4,r),Xs=r=>new Vs(r),ue=r=>new qs(r),Y=(r,t,e)=>new Fs(r,t,e),gi=(r,t,e)=>new Ti(r,t,e),Ge=(r,t)=>new js(r,t);class Zs extends nt{constructor(t){super(-1,t),this.property=t,this.layout=Y([ce("length"),ce("lengthPadding"),Ge(Ks(ce(),-8),"chars")],this.property)}encode(t,e,n=0){if(t==null)return this.layout.span;const i={chars:z.from(t,"utf8")};return this.layout.encode(i,e,n)}decode(t,e=0){return this.layout.decode(t,e).chars.toString()}getSpan(t,e=0){return ce().span+ce().span+new Re(new Uint8Array(t).slice(e,e+4),10,"le").toNumber()}}function it(r){return new Zs(r)}function re(r){return Ge(32,r)}const te=gi(ce("instruction"));te.addVariant(0,Y([ue("lamports"),ue("space"),re("owner")]),"createAccount");te.addVariant(1,Y([re("owner")]),"assign");te.addVariant(2,Y([ue("lamports")]),"transfer");te.addVariant(3,Y([re("base"),it("seed"),ue("lamports"),ue("space"),re("owner")]),"createAccountWithSeed");te.addVariant(4,Y([re("authorized")]),"advanceNonceAccount");te.addVariant(5,Y([ue("lamports")]),"withdrawNonceAccount");te.addVariant(6,Y([re("authorized")]),"initializeNonceAccount");te.addVariant(7,Y([re("authorized")]),"authorizeNonceAccount");te.addVariant(8,Y([ue("space")]),"allocate");te.addVariant(9,Y([re("base"),it("seed"),ue("space"),re("owner")]),"allocateWithSeed");te.addVariant(10,Y([re("base"),it("seed"),re("owner")]),"assignWithSeed");te.addVariant(11,Y([ue("lamports"),it("seed"),re("owner")]),"transferWithSeed");Math.max(...Object.values(te.registry).map(r=>r.span));class Ys extends nt{constructor(t,e,n,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}function wn(r){return new Ys(Ge(32),t=>new W(t),t=>t.toBuffer(),r)}Y([ce("version"),ce("state"),wn("authorizedPubkey"),wn("nonce"),Y([Xs("lamportsPerSignature")],"feeCalculator")]);new W("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");new W("ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL");var Nn={exports:{}};(function(r,t){var e=typeof self<"u"?self:xs,n=function(){function o(){this.fetch=!1,this.DOMException=e.DOMException}return o.prototype=e,new o}();(function(o){(function(u){var c={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function f(_){return _&&DataView.prototype.isPrototypeOf(_)}if(c.arrayBuffer)var d=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],l=ArrayBuffer.isView||function(_){return _&&d.indexOf(Object.prototype.toString.call(_))>-1};function A(_){if(typeof _!="string"&&(_=String(_)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(_))throw new TypeError("Invalid character in header field name");return _.toLowerCase()}function E(_){return typeof _!="string"&&(_=String(_)),_}function p(_){var y={next:function(){var x=_.shift();return{done:x===void 0,value:x}}};return c.iterable&&(y[Symbol.iterator]=function(){return y}),y}function O(_){this.map={},_ instanceof O?_.forEach(function(y,x){this.append(x,y)},this):Array.isArray(_)?_.forEach(function(y){this.append(y[0],y[1])},this):_&&Object.getOwnPropertyNames(_).forEach(function(y){this.append(y,_[y])},this)}O.prototype.append=function(_,y){_=A(_),y=E(y);var x=this.map[_];this.map[_]=x?x+", "+y:y},O.prototype.delete=function(_){delete this.map[A(_)]},O.prototype.get=function(_){return _=A(_),this.has(_)?this.map[_]:null},O.prototype.has=function(_){return this.map.hasOwnProperty(A(_))},O.prototype.set=function(_,y){this.map[A(_)]=E(y)},O.prototype.forEach=function(_,y){for(var x in this.map)this.map.hasOwnProperty(x)&&_.call(y,this.map[x],x,this)},O.prototype.keys=function(){var _=[];return this.forEach(function(y,x){_.push(x)}),p(_)},O.prototype.values=function(){var _=[];return this.forEach(function(y){_.push(y)}),p(_)},O.prototype.entries=function(){var _=[];return this.forEach(function(y,x){_.push([x,y])}),p(_)},c.iterable&&(O.prototype[Symbol.iterator]=O.prototype.entries);function b(_){if(_.bodyUsed)return Promise.reject(new TypeError("Already read"));_.bodyUsed=!0}function w(_){return new Promise(function(y,x){_.onload=function(){y(_.result)},_.onerror=function(){x(_.error)}})}function T(_){var y=new FileReader,x=w(y);return y.readAsArrayBuffer(_),x}function D(_){var y=new FileReader,x=w(y);return y.readAsText(_),x}function v(_){for(var y=new Uint8Array(_),x=new Array(y.length),F=0;F<y.length;F++)x[F]=String.fromCharCode(y[F]);return x.join("")}function g(_){if(_.slice)return _.slice(0);var y=new Uint8Array(_.byteLength);return y.set(new Uint8Array(_)),y.buffer}function H(){return this.bodyUsed=!1,this._initBody=function(_){this._bodyInit=_,_?typeof _=="string"?this._bodyText=_:c.blob&&Blob.prototype.isPrototypeOf(_)?this._bodyBlob=_:c.formData&&FormData.prototype.isPrototypeOf(_)?this._bodyFormData=_:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)?this._bodyText=_.toString():c.arrayBuffer&&c.blob&&f(_)?(this._bodyArrayBuffer=g(_.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(_)||l(_))?this._bodyArrayBuffer=g(_):this._bodyText=_=Object.prototype.toString.call(_):this._bodyText="",this.headers.get("content-type")||(typeof _=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(_)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var _=b(this);if(_)return _;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?b(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var _=b(this);if(_)return _;if(this._bodyBlob)return D(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then(G)}),this.json=function(){return this.text().then(JSON.parse)},this}var j=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function M(_){var y=_.toUpperCase();return j.indexOf(y)>-1?y:_}function B(_,y){y=y||{};var x=y.body;if(_ instanceof B){if(_.bodyUsed)throw new TypeError("Already read");this.url=_.url,this.credentials=_.credentials,y.headers||(this.headers=new O(_.headers)),this.method=_.method,this.mode=_.mode,this.signal=_.signal,!x&&_._bodyInit!=null&&(x=_._bodyInit,_.bodyUsed=!0)}else this.url=String(_);if(this.credentials=y.credentials||this.credentials||"same-origin",(y.headers||!this.headers)&&(this.headers=new O(y.headers)),this.method=M(y.method||this.method||"GET"),this.mode=y.mode||this.mode||null,this.signal=y.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&x)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(x)}B.prototype.clone=function(){return new B(this,{body:this._bodyInit})};function G(_){var y=new FormData;return _.trim().split("&").forEach(function(x){if(x){var F=x.split("="),X=F.shift().replace(/\+/g," "),R=F.join("=").replace(/\+/g," ");y.append(decodeURIComponent(X),decodeURIComponent(R))}}),y}function P(_){var y=new O,x=_.replace(/\r?\n[\t ]+/g," ");return x.split(/\r?\n/).forEach(function(F){var X=F.split(":"),R=X.shift().trim();if(R){var s=X.join(":").trim();y.append(R,s)}}),y}H.call(B.prototype);function U(_,y){y||(y={}),this.type="default",this.status=y.status===void 0?200:y.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in y?y.statusText:"OK",this.headers=new O(y.headers),this.url=y.url||"",this._initBody(_)}H.call(U.prototype),U.prototype.clone=function(){return new U(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new O(this.headers),url:this.url})},U.error=function(){var _=new U(null,{status:0,statusText:""});return _.type="error",_};var L=[301,302,303,307,308];U.redirect=function(_,y){if(L.indexOf(y)===-1)throw new RangeError("Invalid status code");return new U(null,{status:y,headers:{location:_}})},u.DOMException=o.DOMException;try{new u.DOMException}catch{u.DOMException=function(y,x){this.message=y,this.name=x;var F=Error(y);this.stack=F.stack},u.DOMException.prototype=Object.create(Error.prototype),u.DOMException.prototype.constructor=u.DOMException}function I(_,y){return new Promise(function(x,F){var X=new B(_,y);if(X.signal&&X.signal.aborted)return F(new u.DOMException("Aborted","AbortError"));var R=new XMLHttpRequest;function s(){R.abort()}R.onload=function(){var a={status:R.status,statusText:R.statusText,headers:P(R.getAllResponseHeaders()||"")};a.url="responseURL"in R?R.responseURL:a.headers.get("X-Request-URL");var h="response"in R?R.response:R.responseText;x(new U(h,a))},R.onerror=function(){F(new TypeError("Network request failed"))},R.ontimeout=function(){F(new TypeError("Network request failed"))},R.onabort=function(){F(new u.DOMException("Aborted","AbortError"))},R.open(X.method,X.url,!0),X.credentials==="include"?R.withCredentials=!0:X.credentials==="omit"&&(R.withCredentials=!1),"responseType"in R&&c.blob&&(R.responseType="blob"),X.headers.forEach(function(a,h){R.setRequestHeader(h,a)}),X.signal&&(X.signal.addEventListener("abort",s),R.onreadystatechange=function(){R.readyState===4&&X.signal.removeEventListener("abort",s)}),R.send(typeof X._bodyInit>"u"?null:X._bodyInit)})}return I.polyfill=!0,o.fetch||(o.fetch=I,o.Headers=O,o.Request=B,o.Response=U),u.Headers=O,u.Request=B,u.Response=U,u.fetch=I,Object.defineProperty(u,"__esModule",{value:!0}),u})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=n;t=i.fetch,t.default=i.fetch,t.fetch=i.fetch,t.Headers=i.Headers,t.Request=i.Request,t.Response=i.Response,r.exports=t})(Nn,Nn.exports);V.rustEnum([V.struct([],"uninitialized"),V.struct([V.option(V.publicKey(),"authorityAddress")],"buffer"),V.struct([V.publicKey("programdataAddress")],"program"),V.struct([V.u64("slot"),V.option(V.publicKey(),"upgradeAuthorityAddress")],"programData")],void 0,V.u32());const gt="Program log: ",vi="Program data: ",Ws=gt.length,Qs=vi.length;class Js{constructor(t,e,n){this._programId=t,this._provider=e,this._eventParser=new Ii(t,n),this._eventCallbacks=new Map,this._eventListeners=new Map,this._listenerIdCount=0}addEventListener(t,e,n){var i;let o=this._listenerIdCount;return this._listenerIdCount+=1,this._eventListeners.has(t)||this._eventListeners.set(t,[]),this._eventListeners.set(t,((i=this._eventListeners.get(t))!==null&&i!==void 0?i:[]).concat(o)),this._eventCallbacks.set(o,[t,e]),this._onLogsSubscriptionId!==void 0||(this._onLogsSubscriptionId=this._provider.connection.onLogs(this._programId,(u,c)=>{if(!u.err)for(const f of this._eventParser.parseLogs(u.logs)){const d=this._eventListeners.get(f.name);d&&d.forEach(l=>{const A=this._eventCallbacks.get(l);if(A){const[,E]=A;E(f.data,c.slot,u.signature)}})}},n)),o}async removeEventListener(t){const e=this._eventCallbacks.get(t);if(!e)throw new Error(`Event listener ${t} doesn't exist!`);const[n]=e;let i=this._eventListeners.get(n);if(!i)throw new Error(`Event listeners don't exist for ${n}!`);if(this._eventCallbacks.delete(t),i=i.filter(o=>o!==t),this._eventListeners.set(n,i),i.length===0&&this._eventListeners.delete(n),this._eventCallbacks.size===0){if(this._eventListeners.size!==0)throw new Error(`Expected event listeners size to be 0 but got ${this._eventListeners.size}`);this._onLogsSubscriptionId!==void 0&&(await this._provider.connection.removeOnLogsListener(this._onLogsSubscriptionId),this._onLogsSubscriptionId=void 0)}}}class Ii{constructor(t,e){this.coder=e,this.programId=t}*parseLogs(t,e=!1){const n=new ta(t),i=new ea;let o=n.next();for(;o!==null;){let[u,c,f]=this.handleLog(i,o,e);u&&(yield u),c&&i.push(c),f&&i.pop(),o=n.next()}}handleLog(t,e,n){return t.stack.length>0&&t.program()===this.programId.toString()?this.handleProgramLog(e,n):[null,...this.handleSystemLog(e)]}handleProgramLog(t,e){if(t.startsWith(gt)||t.startsWith(vi)){const n=t.startsWith(gt)?t.slice(Ws):t.slice(Qs),i=this.coder.events.decode(n);if(e&&i===null)throw new Error(`Unable to decode event ${n}`);return[i,null,!1]}else return[null,...this.handleSystemLog(t)]}handleSystemLog(t){const e=t.split(":")[0];return e.match(/^Program (.*) success/g)!==null?[null,!0]:e.startsWith(`Program ${this.programId.toString()} invoke`)?[this.programId.toString(),!1]:e.includes("invoke")?["cpi",!1]:[null,!1]}}class ea{constructor(){this.stack=[]}program(){if(!this.stack.length)throw new Error("Expected the stack to have elements");return this.stack[this.stack.length-1]}push(t){this.stack.push(t)}pop(){if(!this.stack.length)throw new Error("Expected the stack to have elements");this.stack.pop()}}class ta{constructor(t){this.logs=t}next(){if(this.logs.length===0)return null;let t=this.logs[0];return this.logs=this.logs.slice(1),t}}function ot(r,t){var e,n;let i={};const o=r.args?r.args.length:0;if(t.length>o){if(t.length!==o+1)throw new Error(`provided too many arguments ${t} to instruction ${r==null?void 0:r.name} expecting: ${(n=(e=r.args)===null||e===void 0?void 0:e.map(u=>u.name))!==null&&n!==void 0?n:[]}`);i=t.pop()}return[t,i]}class Qe{static build(t,e,n){if(t.name==="_inner")throw new de("the _inner name is reserved");const i=(...o)=>{const[u,c]=ot(t,[...o]);Fn(t.accounts,c.accounts),na(t,...o);const f=i.accounts(c.accounts);return c.remainingAccounts!==void 0&&f.push(...c.remainingAccounts),Ri("debug-logs")&&console.log("Outgoing account metas:",f),new Mi({keys:f,programId:n,data:e(t.name,ps(t,...u))})};return i.accounts=o=>Qe.accountsArray(o,t.accounts,n,t.name),i}static accountsArray(t,e,n,i){return t?e.map(o=>{if(le(o)){const l=t[o.name];return Qe.accountsArray(l,o.accounts,n,i).flat()}let u;try{u=ie(t[o.name])}catch{throw new Error(`Wrong input type for account "${o.name}" in the instruction accounts object${i!==void 0?' for instruction "'+i+'"':""}. Expected PublicKey or string.`)}const c=o.optional&&u.equals(n),f=!!(o.writable&&!c),d=!!(o.signer&&!c);return{pubkey:u,isWritable:f,isSigner:d}}).flat():[]}}function na(r,...t){}class ra{static build(t,e){return(...i)=>{var o,u,c;const[,f]=ot(t,[...i]),d=new Ui;if(f.preInstructions&&f.instructions)throw new Error("instructions is deprecated, use preInstructions");return(o=f.preInstructions)===null||o===void 0||o.forEach(l=>d.add(l)),(u=f.instructions)===null||u===void 0||u.forEach(l=>d.add(l)),d.add(e(...i)),(c=f.postInstructions)===null||c===void 0||c.forEach(l=>d.add(l)),d}}}class ia{static build(t,e,n,i){return async(...u)=>{var c;const f=e(...u),[,d]=ot(t,[...u]);if(i.sendAndConfirm===void 0)throw new Error("This function requires 'Provider.sendAndConfirm' to be implemented.");try{return await i.sendAndConfirm(f,(c=d.signers)!==null&&c!==void 0?c:[],d.options)}catch(l){throw mi(l,n)}}}}class oa{static build(t,e,n,i){var o;return((o=t.accounts)!==null&&o!==void 0?o:[]).reduce((u,c)=>(u[c.name]=new sa(t,c,n,i,e),u),{})}}class sa{get size(){return this._size}get programId(){return this._programId}get provider(){return this._provider}get coder(){return this._coder}constructor(t,e,n,i,o){this._idlAccount=e,this._programId=n,this._provider=i??Nt(),this._coder=o??new Ei(t),this._size=this._coder.accounts.size(e.name)}async fetchNullable(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);return n}async fetchNullableAndContext(t,e){const n=await this.getAccountInfoAndContext(t,e),{value:i,context:o}=n;return{data:i&&i.data.length!==0?this._coder.accounts.decode(this._idlAccount.name,i.data):null,context:o}}async fetch(t,e){const{data:n}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist or has no data ${t.toString()}`);return n}async fetchAndContext(t,e){const{data:n,context:i}=await this.fetchNullableAndContext(t,e);if(n===null)throw new Error(`Account does not exist ${t.toString()}`);return{data:n,context:i}}async fetchMultiple(t,e){return(await this.fetchMultipleAndContext(t,e)).map(i=>i?i.data:null)}async fetchMultipleAndContext(t,e){return(await gs(this._provider.connection,t.map(i=>ie(i)),e)).map(i=>{if(i==null)return null;const{account:o,context:u}=i;return{data:this._coder.accounts.decode(this._idlAccount.name,o.data),context:u}})}async all(t){const e=this.coder.accounts.memcmp(this._idlAccount.name,t instanceof z?t:void 0),n=[];return(e==null?void 0:e.offset)!=null&&(e==null?void 0:e.bytes)!=null&&n.push({memcmp:{offset:e.offset,bytes:e.bytes}}),(e==null?void 0:e.dataSize)!=null&&n.push({dataSize:e.dataSize}),(await this._provider.connection.getProgramAccounts(this._programId,{commitment:this._provider.connection.commitment,filters:[...n,...Array.isArray(t)?t:[]]})).map(({pubkey:o,account:u})=>({publicKey:o,account:this._coder.accounts.decode(this._idlAccount.name,u.data)}))}subscribe(t,e){const n=Ce.get(t.toString());if(n)return n.ee;const i=new ss;t=ie(t);const o=this._provider.connection.onAccountChange(t,u=>{const c=this._coder.accounts.decode(this._idlAccount.name,u.data);i.emit("change",c)},e);return Ce.set(t.toString(),{ee:i,listener:o}),i}async unsubscribe(t){let e=Ce.get(t.toString());if(!e){console.warn("Address is not subscribed");return}Ce&&await this._provider.connection.removeAccountChangeListener(e.listener).then(()=>{Ce.delete(t.toString())}).catch(console.error)}async createInstruction(t,e){const n=this.size;if(this._provider.publicKey===void 0)throw new Error("This function requires the Provider interface implementor to have a 'publicKey' field.");return Di.createAccount({fromPubkey:this._provider.publicKey,newAccountPubkey:t.publicKey,space:e??n,lamports:await this._provider.connection.getMinimumBalanceForRentExemption(e??n),programId:this._programId})}async getAccountInfo(t,e){return await this._provider.connection.getAccountInfo(ie(t),e)}async getAccountInfoAndContext(t,e){return await this._provider.connection.getAccountInfoAndContext(ie(t),e)}}const Ce=new Map;class aa{static build(t,e,n,i,o,u,c){return async(...d)=>{var l;const A=e(...d),[,E]=ot(t,[...d]);let p;if(i.simulate===void 0)throw new Error("This function requires 'Provider.simulate' to be implemented.");try{p=await i.simulate(A,E.signers,(l=E.options)===null||l===void 0?void 0:l.commitment)}catch(w){throw mi(w,n)}if(p===void 0)throw new Error("Unable to simulate transaction");const O=p.logs;if(!O)throw new Error("Simulated logs not found");const b=[];if(c.events){let w=new Ii(u,o);for(const T of w.parseLogs(O))b.push(T)}return{events:b,raw:O}}}}function Rt(r){return new Ci(Ge(8),t=>St.fromBuffer(t),t=>t.toBuffer(),r)}function ze(r){return new Ci(Ge(32),t=>new W(t),t=>t.toBuffer(),r)}function mt(r,t){return new ca(r,t)}class Ci extends nt{constructor(t,e,n,i){super(t.span,i),this.layout=t,this.decoder=e,this.encoder=n}decode(t,e){return this.decoder(this.layout.decode(t,e))}encode(t,e,n){return this.layout.encode(this.encoder(t),e,n)}getSpan(t,e){return this.layout.getSpan(t,e)}}class ca extends nt{constructor(t,e){super(-1,e),this.layout=t,this.discriminator=ce()}encode(t,e,n=0){return t==null?this.layout.span+this.discriminator.encode(0,e,n):(this.discriminator.encode(1,e,n),this.layout.encode(t,e,n+4)+4)}decode(t,e=0){const n=this.discriminator.decode(t,e);if(n===0)return null;if(n===1)return this.layout.decode(t,e+4);throw new Error("Invalid coption "+this.layout.property)}getSpan(t,e=0){return this.layout.getSpan(t,e+4)+4}}class St extends Re{toBuffer(){const t=super.toArray().reverse(),e=z.from(t);if(e.length===8)return e;if(e.length>=8)throw new Error("u64 too large");const n=z.alloc(8);return e.copy(n),n}static fromBuffer(t){if(t.length!==8)throw new Error(`Invalid buffer length: ${t.length}`);return new St([...t].reverse().map(e=>`00${e.toString(16)}`.slice(-2)).join(""),16)}}const ua=Y([ze("mint"),ze("owner"),Rt("amount"),mt(ze(),"delegate"),(r=>{const t=gi(zs("discriminator"),null,r);return t.addVariant(0,Y([]),"uninitialized"),t.addVariant(1,Y([]),"initialized"),t.addVariant(2,Y([]),"frozen"),t})("state"),mt(Rt(),"isNative"),Rt("delegatedAmount"),mt(ze(),"closeAuthority")]);function da(r){return ua.decode(r)}class la{constructor(t,e,n,i,o,u,c,f){this._args=t,this._accounts=e,this._provider=n,this._programId=i,this._idlIx=o,this._idlTypes=c,this._customResolver=f,this._accountStore=new ha(n,u,i)}args(t){this._args=t}async resolve(){this.resolveEventCpi(this._idlIx.accounts),this.resolveConst(this._idlIx.accounts);let t=0;for(;await this.resolvePdasAndRelations(this._idlIx.accounts)+await this.resolveCustom()>0;)if(t++,t===16){const e=u=>le(u)?u.accounts.some(e):!!(u.address||u.pda||u.relations),n=(u,c=[],f=[])=>{for(const d of u)le(d)?f.push(...n(d.accounts,[...c,d.name])):f.push([...c,d.name]);return f},i=this._idlIx.accounts.filter(e),o=n(i).filter(u=>!this.get(u)).map(u=>u.reduce((c,f)=>c+"."+f)).map(u=>`\`${u}\``).join(", ");throw new Error(["Reached maximum depth for account resolution.",`Unresolved accounts: ${o}`].join(" "))}}resolveOptionals(t){Object.assign(this._accounts,this.resolveOptionalsHelper(t,this._idlIx.accounts))}get(t){const e=t.reduce((n,i)=>n&&n[i],this._accounts);if(e&&e.toBase58)return e}set(t,e){let n=this._accounts;t.forEach((i,o)=>{var u;o===t.length-1&&(n[i]=e),n[i]=(u=n[i])!==null&&u!==void 0?u:{},n=n[i]})}resolveOptionalsHelper(t,e){const n={};for(const i of e){const o=i.name,u=t[o];u!==void 0&&(bi(u)?le(i)?n[o]=this.resolveOptionalsHelper(u,i.accounts):n[o]=Si(u):u!==null?n[o]=ie(u):i.optional&&(n[o]=this._programId))}return n}async resolveCustom(){if(this._customResolver){const{accounts:t,resolved:e}=await this._customResolver({args:this._args,accounts:this._accounts,provider:this._provider,programId:this._programId,idlIx:this._idlIx});return this._accounts=t,e}return 0}resolveEventCpi(t,e=[]){for(const n in t){const i=t[n];le(i)&&this.resolveEventCpi(i.accounts,[...e,i.name]);const o=+n+1;if(o===t.length)return;const u=t[n].name,c=t[o].name;if(u==="eventAuthority"&&c==="program"){const f=[...e,u],d=[...e,c];this.get(f)||this.set(f,W.findProgramAddressSync([z.from("__event_authority")],this._programId)[0]),this.get(d)||this.set(d,this._programId);return}}}resolveConst(t,e=[]){for(const n of t){const i=n.name;if(le(n))this.resolveConst(n.accounts,[...e,i]);else{const o=n;if((o.signer||o.address)&&!this.get([...e,i])){if(o.signer){if(!this._provider.publicKey)throw new Error("This function requires the `Provider` interface implementor to have a `publicKey` field.");this.set([...e,i],this._provider.publicKey)}o.address&&this.set([...e,i],ie(o.address))}}}}async resolvePdasAndRelations(t,e=[]){let n=0;for(const i of t){const o=i.name;if(le(i))n+=await this.resolvePdasAndRelations(i.accounts,[...e,o]);else{const u=i;if((u.pda||u.relations)&&!this.get([...e,o])){n++;try{if(u.pda){const c=await Promise.all(u.pda.seeds.map(l=>this.toBuffer(l,e)));if(c.some(l=>!l))continue;const f=await this.parseProgramId(u,e),[d]=W.findProgramAddressSync(c,f);this.set([...e,o],d)}}catch{}try{if(u.relations){const c=this.get([...e,u.relations[0]]);if(c){const f=await this._accountStore.fetchAccount({publicKey:c});this.set([...e,o],f[o])}}}catch{}}}}return n}async parseProgramId(t,e=[]){var n;if(!(!((n=t.pda)===null||n===void 0)&&n.program))return this._programId;const i=await this.toBuffer(t.pda.program,e);if(!i)throw new Error(`Program seed not resolved: ${t.name}`);return new W(i)}async toBuffer(t,e=[]){switch(t.kind){case"const":return this.toBufferConst(t);case"arg":return await this.toBufferArg(t);case"account":return await this.toBufferAccount(t,e);default:throw new Error(`Unexpected seed: ${t}`)}}toBufferConst(t){return this.toBufferValue("bytes",t.value)}async toBufferArg(t){const[e,...n]=t.path.split("."),i=this._idlIx.args.findIndex(c=>c.name===e);if(i===-1)throw new Error(`Unable to find argument for seed: ${e}`);const o=n.reduce((c,f)=>(c??{})[f],this._args[i]);if(o===void 0)return;const u=this.getType(this._idlIx.args[i].type,n);return this.toBufferValue(u,o)}async toBufferAccount(t,e=[]){const[n,...i]=t.path.split("."),o=this.get([...e,n]);if(!o)return;if(!i.length)return this.toBufferValue("pubkey",o);if(!t.account)throw new Error(`Seed account is required in order to resolve type: ${t.path}`);let c=await this._accountStore.fetchAccount({publicKey:o,name:t.account}),f=i;for(;f.length>0;)c=c[f[0]],f=f.slice(1);if(c===void 0)return;const d=this.getType({defined:{name:t.account}},i);return this.toBufferValue(d,c)}toBufferValue(t,e){switch(t){case"u8":case"i8":return z.from([e]);case"u16":case"i16":return new Re(e).toArrayLike(z,"le",2);case"u32":case"i32":return new Re(e).toArrayLike(z,"le",4);case"u64":case"i64":return new Re(e).toArrayLike(z,"le",8);case"u128":case"i128":return new Re(e).toArrayLike(z,"le",16);case"u256":case"i256":return new Re(e).toArrayLike(z,"le",32);case"string":return z.from(e);case"pubkey":return e.toBuffer();case"bytes":return z.from(e);default:if(t!=null&&t.array)return z.from(e);throw new Error(`Unexpected seed type: ${t}`)}}getType(t,e=[]){var n;const i=(n=t==null?void 0:t.defined)===null||n===void 0?void 0:n.name;if(i){if(i==="tokenAccount")switch(e.at(0)){case"mint":case"owner":return"pubkey";case"amount":case"delagatedAmount":return"u64";default:throw new Error(`Unknown token account path: ${e}`)}const o=this._idlTypes.find(l=>l.name===i);if(!o)throw new Error(`Type not found: ${i}`);const[u,...c]=e,d=o.type.fields.find(l=>l.name===u);if(!d)throw new Error(`Field not found: ${u}`);return this.getType(d.type,c)}return t}}class ha{constructor(t,e,n){this._provider=t,this._cache=new Map,this._idls={},this._idls[n.toBase58()]=e}async fetchAccount({publicKey:t,name:e}){const n=t.toBase58();if(!this._cache.has(n)){const i=await this._provider.connection.getAccountInfo(t);if(i===null)throw new Error(`Account not found: ${n}`);if(e==="tokenAccount"){const o=da(i.data);this._cache.set(n,o)}else{const o=await this.getAccountsNs(i.owner);if(o){const u=Object.values(o)[0];if(u){const c=u.coder.accounts.decodeAny(i.data);this._cache.set(n,c)}}}}return this._cache.get(n)}async getAccountsNs(t){const e=t.toBase58();if(!this._idls[e]){const n=await Te.fetchIdl(t,this._provider);if(n){const i=new Te(n,this._provider);this._idls[e]=i.account}}return this._idls[e]}}class fa{static build(t,e,n,i,o,u,c,f,d,l,A){return(...E)=>new _a(E,i,o,u,c,f,t,e,n,d,l,A)}}function bi(r){return typeof r=="object"&&r!==null&&!("_bn"in r)}function Si(r,t){const e={};for(const n in r){const i=r[n];if(i===null)throw new Error("Failed to resolve optionals due to IDL type mismatch with input accounts!");e[n]=bi(i)?Si(i):ie(i)}return e}class _a{constructor(t,e,n,i,o,u,c,f,d,l,A,E){this._args=t,this._ixFn=e,this._txFn=n,this._rpcFn=i,this._simulateFn=o,this._viewFn=u,this._accounts={},this._remainingAccounts=[],this._signers=[],this._preInstructions=[],this._postInstructions=[],this._resolveAccounts=!0,this._accountsResolver=new la(t,this._accounts,c,f,d,l,A,E)}args(t){this._args=t,this._accountsResolver.args(t)}accounts(t){return this.accountsPartial(t)}accountsPartial(t){return this._resolveAccounts=!0,this._accountsResolver.resolveOptionals(t),this}accountsStrict(t){return this._resolveAccounts=!1,this._accountsResolver.resolveOptionals(t),this}signers(t){return this._signers=this._signers.concat(t),this}remainingAccounts(t){return this._remainingAccounts=this._remainingAccounts.concat(t),this}preInstructions(t,e=!1){return e?this._preInstructions=t.concat(this._preInstructions):this._preInstructions=this._preInstructions.concat(t),this}postInstructions(t){return this._postInstructions=this._postInstructions.concat(t),this}async pubkeys(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._accounts}async instruction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._ixFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async transaction(){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._txFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions})}async simulate(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._simulateFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async view(t){if(this._resolveAccounts&&await this._accountsResolver.resolve(),!this._viewFn)throw new Error(["Method does not support views.","The instruction should return a value, and its accounts must be read-only"].join(" "));return this._viewFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpc(t){return this._resolveAccounts&&await this._accountsResolver.resolve(),this._rpcFn(...this._args,{accounts:this._accounts,signers:this._signers,remainingAccounts:this._remainingAccounts,preInstructions:this._preInstructions,postInstructions:this._postInstructions,options:t})}async rpcAndKeys(t){return{signature:await this.rpc(t),pubkeys:await this.pubkeys()}}async prepare(){return{instruction:await this.instruction(),signers:this._signers,pubkeys:await this.pubkeys()}}}class pa{static build(t,e,n,i){const o=e.accounts.find(f=>f.writable),u=!!e.returns;return o||!u?void 0:async(...f)=>{let d=await n(...f);const l=`Program return: ${t} `;let A=d.raw.find(b=>b.startsWith(l));if(!A)throw new Error("View expected return log");let E=qn(A.slice(l.length)),p=e.returns;if(!p)throw new Error("View expected return type");return q.fieldLayout({type:p},i.types).decode(E)}}}class Ra{static build(t,e,n,i,o){const u={},c={},f={},d={},l={},A={},E=_s(t),p=t.accounts?oa.build(t,e,n,i):{};return t.instructions.forEach(O=>{const b=Qe.build(O,(j,M)=>e.instruction.encode(j,M),n),w=ra.build(O,b),T=ia.build(O,w,E,i),D=aa.build(O,w,E,i,e,n,t),v=pa.build(n,O,D,t),g=fa.build(i,n,O,b,w,T,D,v,p,t.types||[],o==null?void 0:o(O)),H=O.name;c[H]=b,f[H]=w,u[H]=T,d[H]=D,l[H]=g,v&&(A[H]=v)}),[u,c,f,p,d,l,A]}}class Te{get programId(){return this._programId}get idl(){return this._idl}get rawIdl(){return this._rawIdl}get coder(){return this._coder}get provider(){return this._provider}constructor(t,e=Nt(),n,i){this._idl=fs(t),this._rawIdl=t,this._provider=e,this._programId=ie(t.address),this._coder=n??new Ei(this._idl),this._events=new Js(this._programId,e,this._coder);const[o,u,c,f,d,l,A]=Ra.build(this._idl,this._coder,this._programId,e,i);this.rpc=o,this.instruction=u,this.transaction=c,this.account=f,this.simulate=d,this.methods=l,this.views=A}static async at(t,e){const n=ie(t),i=await Te.fetchIdl(n,e);if(!i)throw new Error(`IDL not found for program: ${t.toString()}`);return new Te(i,e)}static async fetchIdl(t,e){e=e??Nt();const n=ie(t),i=await us(n),o=await e.connection.getAccountInfo(i);if(!o)return null;let u=hs(o.data.slice(8));const c=rs(u.data);return JSON.parse(cs(c))}addEventListener(t,e,n){return this._events.addEventListener(t,e,n)}async removeEventListener(t){return await this._events.removeEventListener(t)}}new W("11111111111111111111111111111111");const ma="AM4tcZNBHBGaDeLEPgzuoEJbHbXqn2odYm9yXC93iUu",Ea={name:"interest",version:"0.1.0",spec:"0.1.0",description:"Created with Anchor"},Oa=JSON.parse('[{"name":"deposit_collateral","discriminator":[156,131,142,116,146,247,162,120],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"token_mint"},{"name":"user_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"deposit","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,101,112,111,115,105,116]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"vault","writable":true},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]},{"name":"give_liquidity","discriminator":[243,205,169,207,77,123,63,7],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"token_mint"},{"name":"user_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"lp_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,112]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"liq_deposit","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,105,113,95,100,101,112,111,115,105,116]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"vault","writable":true},{"name":"token_program"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"}]},{"name":"liquidate_user","discriminator":[121,20,69,108,54,153,66,95],"accounts":[{"name":"engine","pda":{"seeds":[{"kind":"const","value":[101,110,103,105,110,101]}]}},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user_data.user","account":"UserData"},{"kind":"account","path":"token_mint"}]}},{"name":"deposit","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,101,112,111,115,105,116]},{"kind":"account","path":"user_data.user","account":"UserData"},{"kind":"account","path":"token_mint"}]}},{"name":"liquidator","writable":true,"signer":true},{"name":"token_mint"},{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"config"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"liquidator_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"liquidator"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"dsc_mint","writable":true},{"name":"liquidator_dsc_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"liquidator"},{"kind":"account","path":"token_program"},{"kind":"account","path":"dsc_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"price","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,105,99,101]},{"kind":"account","path":"token_mint"}]}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"debt_to_cover","type":"u64"},{"name":"new_price","type":"u64"}]},{"name":"mint_dsc","discriminator":[142,219,102,161,136,60,179,173],"accounts":[{"name":"engine","pda":{"seeds":[{"kind":"const","value":[101,110,103,105,110,101]}]}},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"token_mint","relations":["config"]},{"name":"user","writable":true,"signer":true},{"name":"dsc_mint","writable":true},{"name":"deposit","pda":{"seeds":[{"kind":"const","value":[100,101,112,111,115,105,116]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"config","pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"price","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,105,99,101]},{"kind":"account","path":"token_mint"}]}},{"name":"user_dsc_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"dsc_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"amount","type":"u64"},{"name":"new_price","type":"u64"}]},{"name":"redeem_liquidity","discriminator":[180,117,142,137,227,225,97,211],"accounts":[{"name":"user","writable":true,"signer":true,"relations":["liq_deposit"]},{"name":"lp_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,112]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"token_mint","relations":["liq_deposit","config"]},{"name":"liq_deposit","writable":true,"pda":{"seeds":[{"kind":"const","value":[108,105,113,95,100,101,112,111,115,105,116]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"config"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"user_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"}],"args":[]},{"name":"start_engine","discriminator":[47,24,94,248,13,125,158,142],"accounts":[{"name":"engine","writable":true,"pda":{"seeds":[{"kind":"const","value":[101,110,103,105,110,101]}]}},{"name":"authority","writable":true,"signer":true},{"name":"dsc_mint"},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"}],"args":[{"name":"liquidation_threshold","type":"u64"},{"name":"min_health_factor","type":"u64"},{"name":"liquidation_bonus","type":"u64"},{"name":"fee_percent","type":"u64"}]},{"name":"start_token","discriminator":[253,172,159,168,69,117,168,65],"accounts":[{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"price","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,105,99,101]},{"kind":"account","path":"token_mint"}]}},{"name":"token_mint"},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"config"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"admin","writable":true,"signer":true},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"token_program"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"}],"args":[{"name":"_price","type":"u64"}]},{"name":"temp","discriminator":[221,138,209,235,107,243,152,193],"accounts":[{"name":"user","writable":true,"signer":true},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"token_mint"}],"args":[{"name":"hfbn","type":"u64"}]},{"name":"withdraw_collateral","discriminator":[115,135,168,106,139,214,138,150],"accounts":[{"name":"user","writable":true,"signer":true,"relations":["deposit"]},{"name":"user_data","writable":true,"pda":{"seeds":[{"kind":"const","value":[117,115,101,114]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"engine","pda":{"seeds":[{"kind":"const","value":[101,110,103,105,110,101]}]}},{"name":"token_mint","relations":["deposit","price","config"]},{"name":"dsc_mint","writable":true},{"name":"deposit","writable":true,"pda":{"seeds":[{"kind":"const","value":[100,101,112,111,115,105,116]},{"kind":"account","path":"user"},{"kind":"account","path":"token_mint"}]}},{"name":"price","writable":true,"pda":{"seeds":[{"kind":"const","value":[112,114,105,99,101]},{"kind":"account","path":"token_mint"}]}},{"name":"config","writable":true,"pda":{"seeds":[{"kind":"const","value":[99,111,110,102,105,103]},{"kind":"account","path":"token_mint"}]}},{"name":"vault","writable":true,"pda":{"seeds":[{"kind":"account","path":"config"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"user_token_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"token_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"user_dsc_account","writable":true,"pda":{"seeds":[{"kind":"account","path":"user"},{"kind":"account","path":"token_program"},{"kind":"account","path":"dsc_mint"}],"program":{"kind":"const","value":[140,151,37,143,78,36,137,241,187,61,16,41,20,142,13,131,11,90,19,153,218,255,16,132,4,142,123,216,219,233,248,89]}}},{"name":"system_program","address":"11111111111111111111111111111111"},{"name":"associated_token_program","address":"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL"},{"name":"token_program"}],"args":[{"name":"dsc_to_give","type":"u64"},{"name":"new_price","type":"u64"}]}]'),ya=[{name:"Config",discriminator:[155,12,170,224,30,250,204,130]},{name:"Deposit",discriminator:[148,146,121,66,207,173,21,227]},{name:"Engine",discriminator:[246,94,41,147,231,121,110,19]},{name:"LpData",discriminator:[248,173,196,3,123,50,218,10]},{name:"LqDeposit",discriminator:[39,77,98,106,180,33,68,207]},{name:"Price",discriminator:[50,107,127,61,83,36,39,75]},{name:"UserData",discriminator:[139,248,167,203,253,220,210,221]}],Aa=[{name:"HealthFactors",discriminator:[180,101,77,160,202,252,201,107]},{name:"LiquidityProvided",discriminator:[94,97,39,34,15,96,79,135]},{name:"LiquidityRedeemed",discriminator:[78,81,213,176,1,84,138,65]},{name:"TokenDeposited",discriminator:[104,7,18,187,94,141,251,120]},{name:"TokenLiquidated",discriminator:[106,151,243,246,247,212,191,12]},{name:"TokenRedeemed",discriminator:[75,7,43,228,204,167,97,76]}],wa=[{code:6e3,name:"AmountLessThanZero",msg:"Amount must be greater than zero"},{code:6001,name:"InvalidToken",msg:"Invalid token"},{code:6002,name:"LessHealthFactor",msg:"Health factor too low"},{code:6003,name:"NotEnoughTokensInCollateral",msg:"Not enough tokens in collateral"},{code:6004,name:"NoNeedToLiquidate",msg:"No need to liquidate"},{code:6005,name:"HealthFactorNotImproved",msg:"Health factor not improved"},{code:6006,name:"NotEnoughDebt",msg:"Not enough debt"},{code:6007,name:"UnauthorizedUser",msg:"Unauthorized user"},{code:6008,name:"Overflow"},{code:6009,name:"DivisionError"},{code:6010,name:"InvalidPrice"},{code:6011,name:"MathOverflow"},{code:6012,name:"MustRepayDscFirst"},{code:6013,name:"ZeroTotalLiquidity"},{code:6014,name:"CannotLiquidateSelf"},{code:6015,name:"TooMuchRepay"},{code:6016,name:"OverCollateralLimit"},{code:6017,name:"LiquidatorInsufficientDSC"}],Na=[{name:"Config",type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"},{name:"total_liq",type:"u64"},{name:"total_collected",type:"u64"},{name:"vault",type:"pubkey"},{name:"authority",type:"pubkey"},{name:"bump",type:"u8"}]}},{name:"Deposit",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"token_amt",type:"u64"},{name:"config_account",type:"pubkey"},{name:"bump",type:"u8"}]}},{name:"Engine",type:{kind:"struct",fields:[{name:"authority",type:"pubkey"},{name:"dsc_mint",type:"pubkey"},{name:"liquidation_threshold",type:"u64"},{name:"min_health_factor",type:"u64"},{name:"liquidation_bonus",type:"u64"},{name:"fee_percent",type:"u64"},{name:"bump",type:"u8"}]}},{name:"HealthFactors",type:{kind:"struct",fields:[{name:"health_factor",type:"u64"}]}},{name:"LiquidityProvided",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"LiquidityRedeemed",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token",type:"pubkey"},{name:"interest",type:"u64"}]}},{name:"LpData",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token_amt",type:"u64"},{name:"token",type:"pubkey"},{name:"bump",type:"u8"}]}},{name:"LqDeposit",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token_mint",type:"pubkey"},{name:"token_amt",type:"u64"},{name:"config_account",type:"pubkey"},{name:"bump",type:"u8"}]}},{name:"Price",type:{kind:"struct",fields:[{name:"token_mint",type:"pubkey"},{name:"price",type:"u64"},{name:"bump",type:"u8"}]}},{name:"TokenDeposited",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"TokenLiquidated",type:{kind:"struct",fields:[{name:"liquidator",type:"pubkey"},{name:"user",type:"pubkey"},{name:"token",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"TokenRedeemed",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"token",type:"pubkey"},{name:"amount",type:"u64"}]}},{name:"UserData",type:{kind:"struct",fields:[{name:"user",type:"pubkey"},{name:"borrowed_amount",type:"u64"},{name:"primary_token",type:"pubkey"},{name:"hf",type:"u64"},{name:"token_balance",type:"u64"},{name:"bump",type:"u8"}]}}],Ta=[{name:"MAXIMUM_AGE",type:"u64",value:"100"}],ki={address:ma,metadata:Ea,instructions:Oa,accounts:ya,events:Aa,errors:wa,types:Na,constants:Ta},La="DpVnShx1mVf6MJdoLFPTDf7tdaqCHCC7oGArY9CL7AHL",ga="https://api.devnet.solana.com",Da=new W(ki.address),va={preflightCommitment:"processed"};function Ma(r){if(!r)return null;const t=new Hi(ga,va.preflightCommitment),e=new Le(t,r);return new Te(ki,e)}export{ba as C,La as D,Da as I,ka as a,xa as b,Sa as c,Ca as d,Ma as g};
