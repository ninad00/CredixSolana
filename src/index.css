@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  /* Light theme variables */
  :root {
    --radius: 0.625rem;
    --background: oklch(1 0 0);
    --foreground: oklch(0.145 0 0);
    --card: oklch(1 0 0);
    --card-foreground: oklch(0.145 0 0);
    --popover: oklch(1 0 0);
    --popover-foreground: oklch(0.145 0 0);
    --primary: oklch(0.205 0 0);
    --primary-foreground: oklch(0.985 0 0);
    --secondary: oklch(0.97 0 0);
    --secondary-foreground: oklch(0.205 0 0);
    --muted: oklch(0.97 0 0);
    --muted-foreground: oklch(0.556 0 0);
    --accent: oklch(0.97 0 0);
    --accent-foreground: oklch(0.205 0 0);
    --destructive: oklch(0.577 0.245 27.325);
    --border: oklch(0.922 0 0);
    --input: oklch(0.922 0 0);
    --ring: oklch(0.708 0 0);
    --chart-1: oklch(0.646 0.222 41.116);
    --chart-2: oklch(0.6 0.118 184.704);
    --chart-3: oklch(0.398 0.07 227.392);
    --chart-4: oklch(0.828 0.189 84.429);
    --chart-5: oklch(0.769 0.188 70.08);
  }

  /* Dark theme variables */
  .dark {
    --background: oklch(0.145 0 0);
    --foreground: oklch(0.985 0 0);
    --card: oklch(0.205 0 0);
    --card-foreground: oklch(0.985 0 0);
    --popover: oklch(0.205 0 0);
    --popover-foreground: oklch(0.985 0 0);
    --primary: oklch(0.922 0 0);
    --primary-foreground: oklch(0.205 0 0);
    --secondary: oklch(0.269 0 0);
    --secondary-foreground: oklch(0.985 0 0);
    --muted: oklch(0.269 0 0);
    --muted-foreground: oklch(0.708 0 0);
    --accent: oklch(0.269 0 0);
    --accent-foreground: oklch(0.985 0 0);
    --destructive: oklch(0.704 0.191 22.216);
    --border: oklch(1 0 0 / 10%);
    --input: oklch(1 0 0 / 15%);
    --ring: oklch(0.556 0 0);
    --chart-1: oklch(0.488 0.243 264.376);
    --chart-2: oklch(0.696 0.17 162.48);
    --chart-3: oklch(0.769 0.188 70.08);
    --chart-4: oklch(0.627 0.265 303.9);
    --chart-5: oklch(0.645 0.246 16.439);
  }
}

@layer base {
  * {
    /* Use the CSS variable directly instead of @apply */
    border-color: hsl(var(--border));
  }

  body {
    /* Use the CSS variables directly instead of @apply */
    background-color: hsl(var(--background));
    color: hsl(var(--foreground));
  }
  
  /* These other base styles are fine */
  html {
    overflow-x: hidden;
    -webkit-text-size-adjust: 100%;
  }

  button:not(:disabled),
  [role='button']:not(:disabled) {
    cursor: pointer;
    min-height: 44px;
    min-width: 44px;
    touch-action: manipulation;
    -webkit-tap-highlight-color: transparent;
    user-select: none;
  }

  input,
  textarea,
  select {
    font-size: 16px;
    touch-action: manipulation;
    appearance: none;
  }

  @media (max-width: 640px) {
    button:not(:disabled),
    [role='button']:not(:disabled) {
      min-height: 48px;
    }
  }
}

.wallet-adapter-button-trigger {
  height: auto !important;

  /* Apply standard Tailwind utilities */
  @apply !px-2 !py-[6px] !rounded-md !text-sm !font-semibold !shadow-sm !transition-all;

  /* Apply custom variable-based colors directly */
  border-color: hsl(var(--border)) !important;
  background-color: hsl(var(--background)) !important;
  color: hsl(var(--accent-foreground)) !important;
  box-shadow: var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow) !important;
  
  min-height: 44px !important;
  min-width: 44px !important;
  touch-action: manipulation !important;
  -webkit-tap-highlight-color: transparent !important;
  user-select: none !important;
}

/* Handle hover and dark mode states separately */
.wallet-adapter-button-trigger:hover {
  background-color: hsl(var(--accent)) !important;
  color: hsl(var(--accent-foreground)) !important;
}

.dark .wallet-adapter-button-trigger {
  border-color: hsl(var(--input)) !important;
  background-color: hsla(var(--input) / 0.3) !important;
}

.dark .wallet-adapter-button-trigger:hover {
  background-color: hsla(var(--input) / 0.5) !important;
}

@media (max-width: 640px) {
  .wallet-adapter-button-trigger {
    @apply !px-4 !py-3 !text-base;
    min-height: 48px !important;
  }
}